{"dependencies":[{"name":"../../flow_interfaces","data":{"isAsync":false}},{"name":"../../constants/operations","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getOperation = getOperation;\n  exports.validateParams = validateParams;\n  exports.usePatch = usePatch;\n  exports.getURL = getURL;\n  exports.patchURL = patchURL;\n  exports.getRequestTimeout = getRequestTimeout;\n  exports.isAuthSupported = isAuthSupported;\n  exports.getAuthToken = getAuthToken;\n  exports.prepareParams = prepareParams;\n  exports.patchPayload = patchPayload;\n  exports.handleResponse = handleResponse;\n\n  var _flow_interfaces = _$$_REQUIRE(_dependencyMap[0], \"../../flow_interfaces\");\n\n  var _operations = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"../../constants/operations\"));\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      \"default\": obj\n    };\n  }\n\n  function prepareMessagePayload(modules, incomingParams) {\n    return incomingParams;\n  }\n\n  function getOperation() {\n    return _operations[\"default\"].PNUpdateUserOperation;\n  }\n\n  function validateParams(_ref, incomingParams) {\n    var config = _ref.config;\n    var id = incomingParams.id,\n        name = incomingParams.name,\n        custom = incomingParams.custom;\n    if (!id) return 'Missing User.id';\n    if (!name) return 'Missing User.name';\n    if (!config.subscribeKey) return 'Missing Subscribe Key';\n\n    if (custom) {\n      if (!Object.values(custom).every(function (value) {\n        return typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean';\n      })) {\n        return 'Invalid custom type, only string, number and boolean values are allowed.';\n      }\n    }\n  }\n\n  function usePatch() {\n    return true;\n  }\n\n  function getURL(modules, incomingParams) {\n    var config = modules.config;\n    var id = incomingParams.id;\n    return \"/v1/objects/\".concat(config.subscribeKey, \"/users/\").concat(id);\n  }\n\n  function patchURL(modules, incomingParams) {\n    var config = modules.config;\n    var id = incomingParams.id;\n    return \"/v1/objects/\".concat(config.subscribeKey, \"/users/\").concat(id);\n  }\n\n  function getRequestTimeout(_ref2) {\n    var config = _ref2.config;\n    return config.getTransactionTimeout();\n  }\n\n  function isAuthSupported() {\n    return true;\n  }\n\n  function getAuthToken(modules, incomingParams) {\n    var token = modules.tokenManager.getToken('user', incomingParams.id) || modules.tokenManager.getToken('user');\n    return token;\n  }\n\n  function prepareParams(modules, incomingParams) {\n    var include = incomingParams.include;\n    var params = {};\n\n    if (!include) {\n      include = {\n        customFields: true\n      };\n    } else if (include.customFields === undefined) {\n      include.customFields = true;\n    }\n\n    if (include) {\n      var includes = [];\n\n      if (include.customFields) {\n        includes.push('custom');\n      }\n\n      var includesString = includes.join(',');\n\n      if (includesString.length > 0) {\n        params.include = includesString;\n      }\n    }\n\n    return params;\n  }\n\n  function patchPayload(modules, incomingParams) {\n    return prepareMessagePayload(modules, incomingParams);\n  }\n\n  function handleResponse(modules, usersResponse) {\n    return usersResponse;\n  }\n});","lineCount":121,"map":[[2,0,1,0],[4,0,3,0,"Object"],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,0],[4,24,3,22,"exports"],[4,31,3,0],[4,33,3,31],[4,45,3,0],[4,47,3,45],[5,0,4,2,"value"],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,0,3,45],[6,3,3,0],[7,0,6,0,"exports"],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"getOperation"],[7,22,6,0],[7,25,6,23,"getOperation"],[7,37,6,0],[8,0,7,0,"exports"],[8,2,7,0,"exports"],[8,9,7,7],[8,10,7,8,"validateParams"],[8,24,7,0],[8,27,7,25,"validateParams"],[8,41,7,0],[9,0,8,0,"exports"],[9,2,8,0,"exports"],[9,9,8,7],[9,10,8,8,"usePatch"],[9,18,8,0],[9,21,8,19,"usePatch"],[9,29,8,0],[10,0,9,0,"exports"],[10,2,9,0,"exports"],[10,9,9,7],[10,10,9,8,"getURL"],[10,16,9,0],[10,19,9,17,"getURL"],[10,25,9,0],[11,0,10,0,"exports"],[11,2,10,0,"exports"],[11,9,10,7],[11,10,10,8,"patchURL"],[11,18,10,0],[11,21,10,19,"patchURL"],[11,29,10,0],[12,0,11,0,"exports"],[12,2,11,0,"exports"],[12,9,11,7],[12,10,11,8,"getRequestTimeout"],[12,27,11,0],[12,30,11,28,"getRequestTimeout"],[12,47,11,0],[13,0,12,0,"exports"],[13,2,12,0,"exports"],[13,9,12,7],[13,10,12,8,"isAuthSupported"],[13,25,12,0],[13,28,12,26,"isAuthSupported"],[13,43,12,0],[14,0,13,0,"exports"],[14,2,13,0,"exports"],[14,9,13,7],[14,10,13,8,"getAuthToken"],[14,22,13,0],[14,25,13,23,"getAuthToken"],[14,37,13,0],[15,0,14,0,"exports"],[15,2,14,0,"exports"],[15,9,14,7],[15,10,14,8,"prepareParams"],[15,23,14,0],[15,26,14,24,"prepareParams"],[15,39,14,0],[16,0,15,0,"exports"],[16,2,15,0,"exports"],[16,9,15,7],[16,10,15,8,"patchPayload"],[16,22,15,0],[16,25,15,23,"patchPayload"],[16,37,15,0],[17,0,16,0,"exports"],[17,2,16,0,"exports"],[17,9,16,7],[17,10,16,8,"handleResponse"],[17,24,16,0],[17,27,16,25,"handleResponse"],[17,41,16,0],[19,0,18,0],[19,6,18,4,"_flow_interfaces"],[19,22,18,20],[19,25,18,23,"require"],[19,36,18,30],[19,80,18,0],[21,0,20,0],[21,6,20,4,"_operations"],[21,17,20,15],[21,20,20,18,"_interopRequireDefault"],[21,42,20,40],[21,43,20,41,"require"],[21,54,20,48],[21,103,20,40],[21,104,20,0],[23,0,22,0],[23,11,22,9,"_interopRequireDefault"],[23,33,22,0],[23,34,22,32,"obj"],[23,37,22,0],[23,39,22,37],[24,0,22,39],[24,11,22,46,"obj"],[24,14,22,49],[24,18,22,53,"obj"],[24,21,22,56],[24,22,22,57,"__esModule"],[24,32,22,46],[24,35,22,70,"obj"],[24,38,22,46],[24,41,22,76],[25,0,22,78],[25,17,22,89,"obj"],[26,0,22,76],[26,5,22,39],[27,0,22,97],[29,0,24,0],[29,11,24,9,"prepareMessagePayload"],[29,32,24,0],[29,33,24,31,"modules"],[29,40,24,0],[29,42,24,40,"incomingParams"],[29,56,24,0],[29,58,24,56],[30,0,25,2],[30,11,25,9,"incomingParams"],[30,25,25,2],[31,0,26,1],[33,0,28,0],[33,11,28,9,"getOperation"],[33,23,28,0],[33,26,28,24],[34,0,29,2],[34,11,29,9,"_operations"],[34,22,29,20],[34,23,29,21],[34,32,29,20],[34,33,29,9],[34,34,29,32,"PNUpdateUserOperation"],[34,55,29,2],[35,0,30,1],[37,0,32,0],[37,11,32,9,"validateParams"],[37,25,32,0],[37,26,32,24,"_ref"],[37,30,32,0],[37,32,32,30,"incomingParams"],[37,46,32,0],[37,48,32,46],[38,0,33,2],[38,8,33,6,"config"],[38,14,33,12],[38,17,33,15,"_ref"],[38,21,33,19],[38,22,33,20,"config"],[38,28,33,2],[39,0,34,2],[39,8,34,6,"id"],[39,10,34,8],[39,13,34,11,"incomingParams"],[39,27,34,25],[39,28,34,26,"id"],[39,30,34,2],[40,0,34,2],[40,8,35,6,"name"],[40,12,35,10],[40,15,35,13,"incomingParams"],[40,29,35,27],[40,30,35,28,"name"],[40,34,34,2],[41,0,34,2],[41,8,36,6,"custom"],[41,14,36,12],[41,17,36,15,"incomingParams"],[41,31,36,29],[41,32,36,30,"custom"],[41,38,34,2],[42,0,37,2],[42,8,37,6],[42,9,37,7,"id"],[42,11,37,2],[42,13,37,11],[42,20,37,18],[42,37,37,11],[43,0,38,2],[43,8,38,6],[43,9,38,7,"name"],[43,13,38,2],[43,15,38,13],[43,22,38,20],[43,41,38,13],[44,0,39,2],[44,8,39,6],[44,9,39,7,"config"],[44,15,39,13],[44,16,39,14,"subscribeKey"],[44,28,39,2],[44,30,39,28],[44,37,39,35],[44,60,39,28],[46,0,41,2],[46,8,41,6,"custom"],[46,14,41,2],[46,16,41,14],[47,0,42,4],[47,10,42,8],[47,11,42,9,"Object"],[47,17,42,15],[47,18,42,16,"values"],[47,24,42,9],[47,25,42,23,"custom"],[47,31,42,9],[47,33,42,31,"every"],[47,38,42,9],[47,39,42,37],[47,49,42,47,"value"],[47,54,42,37],[47,56,42,54],[48,0,43,6],[48,15,43,13],[48,22,43,20,"value"],[48,27,43,13],[48,32,43,30],[48,40,43,13],[48,44,43,42],[48,51,43,49,"value"],[48,56,43,42],[48,61,43,59],[48,69,43,13],[48,73,43,71],[48,80,43,78,"value"],[48,85,43,71],[48,90,43,88],[48,99,43,6],[49,0,44,5],[49,7,42,9],[49,8,42,4],[49,10,44,8],[50,0,45,6],[50,15,45,13],[50,89,45,6],[51,0,46,5],[52,0,47,3],[53,0,48,1],[55,0,50,0],[55,11,50,9,"usePatch"],[55,19,50,0],[55,22,50,20],[56,0,51,2],[56,11,51,9],[56,15,51,2],[57,0,52,1],[59,0,54,0],[59,11,54,9,"getURL"],[59,17,54,0],[59,18,54,16,"modules"],[59,25,54,0],[59,27,54,25,"incomingParams"],[59,41,54,0],[59,43,54,41],[60,0,55,2],[60,8,55,6,"config"],[60,14,55,12],[60,17,55,15,"modules"],[60,24,55,22],[60,25,55,23,"config"],[60,31,55,2],[61,0,56,2],[61,8,56,6,"id"],[61,10,56,8],[61,13,56,11,"incomingParams"],[61,27,56,25],[61,28,56,26,"id"],[61,30,56,2],[62,0,57,2],[62,11,57,9],[62,26,57,24,"concat"],[62,32,57,9],[62,33,57,31,"config"],[62,39,57,37],[62,40,57,38,"subscribeKey"],[62,52,57,9],[62,54,57,52],[62,63,57,9],[62,65,57,63,"concat"],[62,71,57,9],[62,72,57,70,"id"],[62,74,57,9],[62,75,57,2],[63,0,58,1],[65,0,60,0],[65,11,60,9,"patchURL"],[65,19,60,0],[65,20,60,18,"modules"],[65,27,60,0],[65,29,60,27,"incomingParams"],[65,43,60,0],[65,45,60,43],[66,0,61,2],[66,8,61,6,"config"],[66,14,61,12],[66,17,61,15,"modules"],[66,24,61,22],[66,25,61,23,"config"],[66,31,61,2],[67,0,62,2],[67,8,62,6,"id"],[67,10,62,8],[67,13,62,11,"incomingParams"],[67,27,62,25],[67,28,62,26,"id"],[67,30,62,2],[68,0,63,2],[68,11,63,9],[68,26,63,24,"concat"],[68,32,63,9],[68,33,63,31,"config"],[68,39,63,37],[68,40,63,38,"subscribeKey"],[68,52,63,9],[68,54,63,52],[68,63,63,9],[68,65,63,63,"concat"],[68,71,63,9],[68,72,63,70,"id"],[68,74,63,9],[68,75,63,2],[69,0,64,1],[71,0,66,0],[71,11,66,9,"getRequestTimeout"],[71,28,66,0],[71,29,66,27,"_ref2"],[71,34,66,0],[71,36,66,34],[72,0,67,2],[72,8,67,6,"config"],[72,14,67,12],[72,17,67,15,"_ref2"],[72,22,67,20],[72,23,67,21,"config"],[72,29,67,2],[73,0,68,2],[73,11,68,9,"config"],[73,17,68,15],[73,18,68,16,"getTransactionTimeout"],[73,39,68,9],[73,41,68,2],[74,0,69,1],[76,0,71,0],[76,11,71,9,"isAuthSupported"],[76,26,71,0],[76,29,71,27],[77,0,72,2],[77,11,72,9],[77,15,72,2],[78,0,73,1],[80,0,75,0],[80,11,75,9,"getAuthToken"],[80,23,75,0],[80,24,75,22,"modules"],[80,31,75,0],[80,33,75,31,"incomingParams"],[80,47,75,0],[80,49,75,47],[81,0,76,2],[81,8,76,6,"token"],[81,13,76,11],[81,16,76,14,"modules"],[81,23,76,21],[81,24,76,22,"tokenManager"],[81,36,76,14],[81,37,76,35,"getToken"],[81,45,76,14],[81,46,76,44],[81,52,76,14],[81,54,76,52,"incomingParams"],[81,68,76,66],[81,69,76,67,"id"],[81,71,76,14],[81,76,76,74,"modules"],[81,83,76,81],[81,84,76,82,"tokenManager"],[81,96,76,74],[81,97,76,95,"getToken"],[81,105,76,74],[81,106,76,104],[81,112,76,74],[81,113,76,2],[82,0,77,2],[82,11,77,9,"token"],[82,16,77,2],[83,0,78,1],[85,0,80,0],[85,11,80,9,"prepareParams"],[85,24,80,0],[85,25,80,23,"modules"],[85,32,80,0],[85,34,80,32,"incomingParams"],[85,48,80,0],[85,50,80,48],[86,0,81,2],[86,8,81,6,"include"],[86,15,81,13],[86,18,81,16,"incomingParams"],[86,32,81,30],[86,33,81,31,"include"],[86,40,81,2],[87,0,82,2],[87,8,82,6,"params"],[87,14,82,12],[87,17,82,15],[87,19,82,2],[89,0,84,2],[89,8,84,6],[89,9,84,7,"include"],[89,16,84,2],[89,18,84,16],[90,0,85,4,"include"],[90,6,85,4,"include"],[90,13,85,11],[90,16,85,14],[91,0,86,6,"customFields"],[91,8,86,6,"customFields"],[91,20,86,18],[91,22,86,20],[92,0,85,14],[92,7,85,4],[93,0,88,3],[93,5,84,2],[93,11,88,9],[93,15,88,13,"include"],[93,22,88,20],[93,23,88,21,"customFields"],[93,35,88,13],[93,40,88,38,"undefined"],[93,49,88,9],[93,51,88,49],[94,0,89,4,"include"],[94,6,89,4,"include"],[94,13,89,11],[94,14,89,12,"customFields"],[94,26,89,4],[94,29,89,27],[94,33,89,4],[95,0,90,3],[97,0,92,2],[97,8,92,6,"include"],[97,15,92,2],[97,17,92,15],[98,0,93,4],[98,10,93,8,"includes"],[98,18,93,16],[98,21,93,19],[98,23,93,4],[100,0,95,4],[100,10,95,8,"include"],[100,17,95,15],[100,18,95,16,"customFields"],[100,30,95,4],[100,32,95,30],[101,0,96,6,"includes"],[101,8,96,6,"includes"],[101,16,96,14],[101,17,96,15,"push"],[101,21,96,6],[101,22,96,20],[101,30,96,6],[102,0,97,5],[104,0,99,4],[104,10,99,8,"includesString"],[104,24,99,22],[104,27,99,25,"includes"],[104,35,99,33],[104,36,99,34,"join"],[104,40,99,25],[104,41,99,39],[104,44,99,25],[104,45,99,4],[106,0,101,4],[106,10,101,8,"includesString"],[106,24,101,22],[106,25,101,23,"length"],[106,31,101,8],[106,34,101,32],[106,35,101,4],[106,37,101,35],[107,0,102,6,"params"],[107,8,102,6,"params"],[107,14,102,12],[107,15,102,13,"include"],[107,22,102,6],[107,25,102,23,"includesString"],[107,39,102,6],[108,0,103,5],[109,0,104,3],[111,0,106,2],[111,11,106,9,"params"],[111,17,106,2],[112,0,107,1],[114,0,109,0],[114,11,109,9,"patchPayload"],[114,23,109,0],[114,24,109,22,"modules"],[114,31,109,0],[114,33,109,31,"incomingParams"],[114,47,109,0],[114,49,109,47],[115,0,110,2],[115,11,110,9,"prepareMessagePayload"],[115,32,110,30],[115,33,110,31,"modules"],[115,40,110,30],[115,42,110,40,"incomingParams"],[115,56,110,30],[115,57,110,2],[116,0,111,1],[118,0,113,0],[118,11,113,9,"handleResponse"],[118,25,113,0],[118,26,113,24,"modules"],[118,33,113,0],[118,35,113,33,"usersResponse"],[118,48,113,0],[118,50,113,48],[119,0,114,2],[119,11,114,9,"usersResponse"],[119,24,114,2],[120,0,115,1]],"functionMap":{"names":["<global>","_interopRequireDefault","prepareMessagePayload","getOperation","validateParams","Object.values.every$argument_0","usePatch","getURL","patchURL","getRequestTimeout","isAuthSupported","getAuthToken","prepareParams","patchPayload","handleResponse"],"mappings":"AAA;ACqB,iGD;AEE;CFE;AGE;CHE;AIE;qCCU;KDE;CJI;AME;CNE;AOE;CPI;AQE;CRI;ASE;CTG;AUE;CVE;AWE;CXG;AYE;CZ2B;AaE;CbE;AcE;CdE"}},"type":"js/module"}]}