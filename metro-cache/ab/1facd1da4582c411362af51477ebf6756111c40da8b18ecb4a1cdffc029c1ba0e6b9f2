{"dependencies":[{"name":"../../flow_interfaces","data":{"isAsync":false}},{"name":"../../constants/operations","data":{"isAsync":false}},{"name":"../../utils","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getOperation = getOperation;\n  exports.validateParams = validateParams;\n  exports.getURL = getURL;\n  exports.getRequestTimeout = getRequestTimeout;\n  exports.isAuthSupported = isAuthSupported;\n  exports.prepareParams = prepareParams;\n  exports.handleResponse = handleResponse;\n\n  var _flow_interfaces = _$$_REQUIRE(_dependencyMap[0], \"../../flow_interfaces\");\n\n  var _operations = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"../../constants/operations\"));\n\n  var _utils = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"../../utils\"));\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      \"default\": obj\n    };\n  }\n\n  function getOperation() {\n    return _operations[\"default\"].PNGetStateOperation;\n  }\n\n  function validateParams(modules) {\n    var config = modules.config;\n    if (!config.subscribeKey) return 'Missing Subscribe Key';\n  }\n\n  function getURL(modules, incomingParams) {\n    var config = modules.config;\n    var _incomingParams$uuid = incomingParams.uuid,\n        uuid = _incomingParams$uuid === void 0 ? config.UUID : _incomingParams$uuid,\n        _incomingParams$chann = incomingParams.channels,\n        channels = _incomingParams$chann === void 0 ? [] : _incomingParams$chann;\n    var stringifiedChannels = channels.length > 0 ? channels.join(',') : ',';\n    return \"/v2/presence/sub-key/\".concat(config.subscribeKey, \"/channel/\").concat(_utils[\"default\"].encodeString(stringifiedChannels), \"/uuid/\").concat(uuid);\n  }\n\n  function getRequestTimeout(_ref) {\n    var config = _ref.config;\n    return config.getTransactionTimeout();\n  }\n\n  function isAuthSupported() {\n    return true;\n  }\n\n  function prepareParams(modules, incomingParams) {\n    var _incomingParams$chann2 = incomingParams.channelGroups,\n        channelGroups = _incomingParams$chann2 === void 0 ? [] : _incomingParams$chann2;\n    var params = {};\n\n    if (channelGroups.length > 0) {\n      params['channel-group'] = channelGroups.join(',');\n    }\n\n    return params;\n  }\n\n  function handleResponse(modules, serverResponse, incomingParams) {\n    var _incomingParams$chann3 = incomingParams.channels,\n        channels = _incomingParams$chann3 === void 0 ? [] : _incomingParams$chann3,\n        _incomingParams$chann4 = incomingParams.channelGroups,\n        channelGroups = _incomingParams$chann4 === void 0 ? [] : _incomingParams$chann4;\n    var channelsResponse = {};\n\n    if (channels.length === 1 && channelGroups.length === 0) {\n      channelsResponse[channels[0]] = serverResponse.payload;\n    } else {\n      channelsResponse = serverResponse.payload;\n    }\n\n    return {\n      channels: channelsResponse\n    };\n  }\n});","lineCount":84,"map":[[2,0,1,0],[4,0,3,0,"Object"],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,0],[4,24,3,22,"exports"],[4,31,3,0],[4,33,3,31],[4,45,3,0],[4,47,3,45],[5,0,4,2,"value"],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,0,3,45],[6,3,3,0],[7,0,6,0,"exports"],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"getOperation"],[7,22,6,0],[7,25,6,23,"getOperation"],[7,37,6,0],[8,0,7,0,"exports"],[8,2,7,0,"exports"],[8,9,7,7],[8,10,7,8,"validateParams"],[8,24,7,0],[8,27,7,25,"validateParams"],[8,41,7,0],[9,0,8,0,"exports"],[9,2,8,0,"exports"],[9,9,8,7],[9,10,8,8,"getURL"],[9,16,8,0],[9,19,8,17,"getURL"],[9,25,8,0],[10,0,9,0,"exports"],[10,2,9,0,"exports"],[10,9,9,7],[10,10,9,8,"getRequestTimeout"],[10,27,9,0],[10,30,9,28,"getRequestTimeout"],[10,47,9,0],[11,0,10,0,"exports"],[11,2,10,0,"exports"],[11,9,10,7],[11,10,10,8,"isAuthSupported"],[11,25,10,0],[11,28,10,26,"isAuthSupported"],[11,43,10,0],[12,0,11,0,"exports"],[12,2,11,0,"exports"],[12,9,11,7],[12,10,11,8,"prepareParams"],[12,23,11,0],[12,26,11,24,"prepareParams"],[12,39,11,0],[13,0,12,0,"exports"],[13,2,12,0,"exports"],[13,9,12,7],[13,10,12,8,"handleResponse"],[13,24,12,0],[13,27,12,25,"handleResponse"],[13,41,12,0],[15,0,14,0],[15,6,14,4,"_flow_interfaces"],[15,22,14,20],[15,25,14,23,"require"],[15,36,14,30],[15,80,14,0],[17,0,16,0],[17,6,16,4,"_operations"],[17,17,16,15],[17,20,16,18,"_interopRequireDefault"],[17,42,16,40],[17,43,16,41,"require"],[17,54,16,48],[17,103,16,40],[17,104,16,0],[19,0,18,0],[19,6,18,4,"_utils"],[19,12,18,10],[19,15,18,13,"_interopRequireDefault"],[19,37,18,35],[19,38,18,36,"require"],[19,49,18,43],[19,83,18,35],[19,84,18,0],[21,0,20,0],[21,11,20,9,"_interopRequireDefault"],[21,33,20,0],[21,34,20,32,"obj"],[21,37,20,0],[21,39,20,37],[22,0,20,39],[22,11,20,46,"obj"],[22,14,20,49],[22,18,20,53,"obj"],[22,21,20,56],[22,22,20,57,"__esModule"],[22,32,20,46],[22,35,20,70,"obj"],[22,38,20,46],[22,41,20,76],[23,0,20,78],[23,17,20,89,"obj"],[24,0,20,76],[24,5,20,39],[25,0,20,97],[27,0,22,0],[27,11,22,9,"getOperation"],[27,23,22,0],[27,26,22,24],[28,0,23,2],[28,11,23,9,"_operations"],[28,22,23,20],[28,23,23,21],[28,32,23,20],[28,33,23,9],[28,34,23,32,"PNGetStateOperation"],[28,53,23,2],[29,0,24,1],[31,0,26,0],[31,11,26,9,"validateParams"],[31,25,26,0],[31,26,26,24,"modules"],[31,33,26,0],[31,35,26,33],[32,0,27,2],[32,8,27,6,"config"],[32,14,27,12],[32,17,27,15,"modules"],[32,24,27,22],[32,25,27,23,"config"],[32,31,27,2],[33,0,28,2],[33,8,28,6],[33,9,28,7,"config"],[33,15,28,13],[33,16,28,14,"subscribeKey"],[33,28,28,2],[33,30,28,28],[33,37,28,35],[33,60,28,28],[34,0,29,1],[36,0,31,0],[36,11,31,9,"getURL"],[36,17,31,0],[36,18,31,16,"modules"],[36,25,31,0],[36,27,31,25,"incomingParams"],[36,41,31,0],[36,43,31,41],[37,0,32,2],[37,8,32,6,"config"],[37,14,32,12],[37,17,32,15,"modules"],[37,24,32,22],[37,25,32,23,"config"],[37,31,32,2],[38,0,33,2],[38,8,33,6,"_incomingParams$uuid"],[38,28,33,26],[38,31,33,29,"incomingParams"],[38,45,33,43],[38,46,33,44,"uuid"],[38,50,33,2],[39,0,33,2],[39,8,34,6,"uuid"],[39,12,34,10],[39,15,34,13,"_incomingParams$uuid"],[39,35,34,33],[39,40,34,38],[39,45,34,43],[39,46,34,13],[39,49,34,47,"config"],[39,55,34,53],[39,56,34,54,"UUID"],[39,60,34,13],[39,63,34,61,"_incomingParams$uuid"],[39,83,33,2],[40,0,33,2],[40,8,35,6,"_incomingParams$chann"],[40,29,35,27],[40,32,35,30,"incomingParams"],[40,46,35,44],[40,47,35,45,"channels"],[40,55,33,2],[41,0,33,2],[41,8,36,6,"channels"],[41,16,36,14],[41,19,36,17,"_incomingParams$chann"],[41,40,36,38],[41,45,36,43],[41,50,36,48],[41,51,36,17],[41,54,36,52],[41,56,36,17],[41,59,36,57,"_incomingParams$chann"],[41,80,33,2],[42,0,37,2],[42,8,37,6,"stringifiedChannels"],[42,27,37,25],[42,30,37,28,"channels"],[42,38,37,36],[42,39,37,37,"length"],[42,45,37,28],[42,48,37,46],[42,49,37,28],[42,52,37,50,"channels"],[42,60,37,58],[42,61,37,59,"join"],[42,65,37,50],[42,66,37,64],[42,69,37,50],[42,70,37,28],[42,73,37,71],[42,76,37,2],[43,0,38,2],[43,11,38,9],[43,35,38,33,"concat"],[43,41,38,9],[43,42,38,40,"config"],[43,48,38,46],[43,49,38,47,"subscribeKey"],[43,61,38,9],[43,63,38,61],[43,74,38,9],[43,76,38,74,"concat"],[43,82,38,9],[43,83,38,81,"_utils"],[43,89,38,87],[43,90,38,88],[43,99,38,87],[43,100,38,81],[43,101,38,99,"encodeString"],[43,113,38,81],[43,114,38,112,"stringifiedChannels"],[43,133,38,81],[43,134,38,9],[43,136,38,134],[43,144,38,9],[43,146,38,144,"concat"],[43,152,38,9],[43,153,38,151,"uuid"],[43,157,38,9],[43,158,38,2],[44,0,39,1],[46,0,41,0],[46,11,41,9,"getRequestTimeout"],[46,28,41,0],[46,29,41,27,"_ref"],[46,33,41,0],[46,35,41,33],[47,0,42,2],[47,8,42,6,"config"],[47,14,42,12],[47,17,42,15,"_ref"],[47,21,42,19],[47,22,42,20,"config"],[47,28,42,2],[48,0,43,2],[48,11,43,9,"config"],[48,17,43,15],[48,18,43,16,"getTransactionTimeout"],[48,39,43,9],[48,41,43,2],[49,0,44,1],[51,0,46,0],[51,11,46,9,"isAuthSupported"],[51,26,46,0],[51,29,46,27],[52,0,47,2],[52,11,47,9],[52,15,47,2],[53,0,48,1],[55,0,50,0],[55,11,50,9,"prepareParams"],[55,24,50,0],[55,25,50,23,"modules"],[55,32,50,0],[55,34,50,32,"incomingParams"],[55,48,50,0],[55,50,50,48],[56,0,51,2],[56,8,51,6,"_incomingParams$chann2"],[56,30,51,28],[56,33,51,31,"incomingParams"],[56,47,51,45],[56,48,51,46,"channelGroups"],[56,61,51,2],[57,0,51,2],[57,8,52,6,"channelGroups"],[57,21,52,19],[57,24,52,22,"_incomingParams$chann2"],[57,46,52,44],[57,51,52,49],[57,56,52,54],[57,57,52,22],[57,60,52,58],[57,62,52,22],[57,65,52,63,"_incomingParams$chann2"],[57,87,51,2],[58,0,53,2],[58,8,53,6,"params"],[58,14,53,12],[58,17,53,15],[58,19,53,2],[60,0,55,2],[60,8,55,6,"channelGroups"],[60,21,55,19],[60,22,55,20,"length"],[60,28,55,6],[60,31,55,29],[60,32,55,2],[60,34,55,32],[61,0,56,4,"params"],[61,6,56,4,"params"],[61,12,56,10],[61,13,56,11],[61,28,56,10],[61,29,56,4],[61,32,56,30,"channelGroups"],[61,45,56,43],[61,46,56,44,"join"],[61,50,56,30],[61,51,56,49],[61,54,56,30],[61,55,56,4],[62,0,57,3],[64,0,59,2],[64,11,59,9,"params"],[64,17,59,2],[65,0,60,1],[67,0,62,0],[67,11,62,9,"handleResponse"],[67,25,62,0],[67,26,62,24,"modules"],[67,33,62,0],[67,35,62,33,"serverResponse"],[67,49,62,0],[67,51,62,49,"incomingParams"],[67,65,62,0],[67,67,62,65],[68,0,63,2],[68,8,63,6,"_incomingParams$chann3"],[68,30,63,28],[68,33,63,31,"incomingParams"],[68,47,63,45],[68,48,63,46,"channels"],[68,56,63,2],[69,0,63,2],[69,8,64,6,"channels"],[69,16,64,14],[69,19,64,17,"_incomingParams$chann3"],[69,41,64,39],[69,46,64,44],[69,51,64,49],[69,52,64,17],[69,55,64,53],[69,57,64,17],[69,60,64,58,"_incomingParams$chann3"],[69,82,63,2],[70,0,63,2],[70,8,65,6,"_incomingParams$chann4"],[70,30,65,28],[70,33,65,31,"incomingParams"],[70,47,65,45],[70,48,65,46,"channelGroups"],[70,61,63,2],[71,0,63,2],[71,8,66,6,"channelGroups"],[71,21,66,19],[71,24,66,22,"_incomingParams$chann4"],[71,46,66,44],[71,51,66,49],[71,56,66,54],[71,57,66,22],[71,60,66,58],[71,62,66,22],[71,65,66,63,"_incomingParams$chann4"],[71,87,63,2],[72,0,67,2],[72,8,67,6,"channelsResponse"],[72,24,67,22],[72,27,67,25],[72,29,67,2],[74,0,69,2],[74,8,69,6,"channels"],[74,16,69,14],[74,17,69,15,"length"],[74,23,69,6],[74,28,69,26],[74,29,69,6],[74,33,69,31,"channelGroups"],[74,46,69,44],[74,47,69,45,"length"],[74,53,69,31],[74,58,69,56],[74,59,69,2],[74,61,69,59],[75,0,70,4,"channelsResponse"],[75,6,70,4,"channelsResponse"],[75,22,70,20],[75,23,70,21,"channels"],[75,31,70,29],[75,32,70,30],[75,33,70,29],[75,34,70,20],[75,35,70,4],[75,38,70,36,"serverResponse"],[75,52,70,50],[75,53,70,51,"payload"],[75,60,70,4],[76,0,71,3],[76,5,69,2],[76,11,71,9],[77,0,72,4,"channelsResponse"],[77,6,72,4,"channelsResponse"],[77,22,72,20],[77,25,72,23,"serverResponse"],[77,39,72,37],[77,40,72,38,"payload"],[77,47,72,4],[78,0,73,3],[80,0,75,2],[80,11,75,9],[81,0,76,4,"channels"],[81,6,76,4,"channels"],[81,14,76,12],[81,16,76,14,"channelsResponse"],[82,0,75,9],[82,5,75,2],[83,0,78,1]],"functionMap":{"names":["<global>","_interopRequireDefault","getOperation","validateParams","getURL","getRequestTimeout","isAuthSupported","prepareParams","handleResponse"],"mappings":"AAA;ACmB,iGD;AEE;CFE;AGE;CHG;AIE;CJQ;AKE;CLG;AME;CNE;AOE;CPU;AQE;CRgB"}},"type":"js/module"}]}