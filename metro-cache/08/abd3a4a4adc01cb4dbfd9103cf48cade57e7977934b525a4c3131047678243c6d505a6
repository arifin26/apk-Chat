{"dependencies":[{"name":"../../flow_interfaces","data":{"isAsync":false}},{"name":"../../constants/operations","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getOperation = getOperation;\n  exports.validateParams = validateParams;\n  exports.getURL = getURL;\n  exports.getRequestTimeout = getRequestTimeout;\n  exports.isAuthSupported = isAuthSupported;\n  exports.prepareParams = prepareParams;\n  exports.handleResponse = handleResponse;\n\n  var _flow_interfaces = _$$_REQUIRE(_dependencyMap[0], \"../../flow_interfaces\");\n\n  var _operations = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"../../constants/operations\"));\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      \"default\": obj\n    };\n  }\n\n  function getOperation() {\n    return _operations[\"default\"].PNAccessManagerGrant;\n  }\n\n  function validateParams(modules) {\n    var config = modules.config;\n    if (!config.subscribeKey) return 'Missing Subscribe Key';\n    if (!config.publishKey) return 'Missing Publish Key';\n    if (!config.secretKey) return 'Missing Secret Key';\n  }\n\n  function getURL(modules) {\n    var config = modules.config;\n    return \"/v2/auth/grant/sub-key/\".concat(config.subscribeKey);\n  }\n\n  function getRequestTimeout(_ref) {\n    var config = _ref.config;\n    return config.getTransactionTimeout();\n  }\n\n  function isAuthSupported() {\n    return false;\n  }\n\n  function prepareParams(modules, incomingParams) {\n    var _incomingParams$chann = incomingParams.channels,\n        channels = _incomingParams$chann === void 0 ? [] : _incomingParams$chann,\n        _incomingParams$chann2 = incomingParams.channelGroups,\n        channelGroups = _incomingParams$chann2 === void 0 ? [] : _incomingParams$chann2,\n        ttl = incomingParams.ttl,\n        _incomingParams$read = incomingParams.read,\n        read = _incomingParams$read === void 0 ? false : _incomingParams$read,\n        _incomingParams$write = incomingParams.write,\n        write = _incomingParams$write === void 0 ? false : _incomingParams$write,\n        _incomingParams$manag = incomingParams.manage,\n        manage = _incomingParams$manag === void 0 ? false : _incomingParams$manag,\n        _incomingParams$authK = incomingParams.authKeys,\n        authKeys = _incomingParams$authK === void 0 ? [] : _incomingParams$authK;\n    var params = {};\n    params.r = read ? '1' : '0';\n    params.w = write ? '1' : '0';\n    params.m = manage ? '1' : '0';\n\n    if (channels.length > 0) {\n      params.channel = channels.join(',');\n    }\n\n    if (channelGroups.length > 0) {\n      params['channel-group'] = channelGroups.join(',');\n    }\n\n    if (authKeys.length > 0) {\n      params.auth = authKeys.join(',');\n    }\n\n    if (ttl || ttl === 0) {\n      params.ttl = ttl;\n    }\n\n    return params;\n  }\n\n  function handleResponse() {\n    return {};\n  }\n});","lineCount":91,"map":[[2,0,1,0],[4,0,3,0,"Object"],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,0],[4,24,3,22,"exports"],[4,31,3,0],[4,33,3,31],[4,45,3,0],[4,47,3,45],[5,0,4,2,"value"],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,0,3,45],[6,3,3,0],[7,0,6,0,"exports"],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"getOperation"],[7,22,6,0],[7,25,6,23,"getOperation"],[7,37,6,0],[8,0,7,0,"exports"],[8,2,7,0,"exports"],[8,9,7,7],[8,10,7,8,"validateParams"],[8,24,7,0],[8,27,7,25,"validateParams"],[8,41,7,0],[9,0,8,0,"exports"],[9,2,8,0,"exports"],[9,9,8,7],[9,10,8,8,"getURL"],[9,16,8,0],[9,19,8,17,"getURL"],[9,25,8,0],[10,0,9,0,"exports"],[10,2,9,0,"exports"],[10,9,9,7],[10,10,9,8,"getRequestTimeout"],[10,27,9,0],[10,30,9,28,"getRequestTimeout"],[10,47,9,0],[11,0,10,0,"exports"],[11,2,10,0,"exports"],[11,9,10,7],[11,10,10,8,"isAuthSupported"],[11,25,10,0],[11,28,10,26,"isAuthSupported"],[11,43,10,0],[12,0,11,0,"exports"],[12,2,11,0,"exports"],[12,9,11,7],[12,10,11,8,"prepareParams"],[12,23,11,0],[12,26,11,24,"prepareParams"],[12,39,11,0],[13,0,12,0,"exports"],[13,2,12,0,"exports"],[13,9,12,7],[13,10,12,8,"handleResponse"],[13,24,12,0],[13,27,12,25,"handleResponse"],[13,41,12,0],[15,0,14,0],[15,6,14,4,"_flow_interfaces"],[15,22,14,20],[15,25,14,23,"require"],[15,36,14,30],[15,80,14,0],[17,0,16,0],[17,6,16,4,"_operations"],[17,17,16,15],[17,20,16,18,"_interopRequireDefault"],[17,42,16,40],[17,43,16,41,"require"],[17,54,16,48],[17,103,16,40],[17,104,16,0],[19,0,18,0],[19,11,18,9,"_interopRequireDefault"],[19,33,18,0],[19,34,18,32,"obj"],[19,37,18,0],[19,39,18,37],[20,0,18,39],[20,11,18,46,"obj"],[20,14,18,49],[20,18,18,53,"obj"],[20,21,18,56],[20,22,18,57,"__esModule"],[20,32,18,46],[20,35,18,70,"obj"],[20,38,18,46],[20,41,18,76],[21,0,18,78],[21,17,18,89,"obj"],[22,0,18,76],[22,5,18,39],[23,0,18,97],[25,0,20,0],[25,11,20,9,"getOperation"],[25,23,20,0],[25,26,20,24],[26,0,21,2],[26,11,21,9,"_operations"],[26,22,21,20],[26,23,21,21],[26,32,21,20],[26,33,21,9],[26,34,21,32,"PNAccessManagerGrant"],[26,54,21,2],[27,0,22,1],[29,0,24,0],[29,11,24,9,"validateParams"],[29,25,24,0],[29,26,24,24,"modules"],[29,33,24,0],[29,35,24,33],[30,0,25,2],[30,8,25,6,"config"],[30,14,25,12],[30,17,25,15,"modules"],[30,24,25,22],[30,25,25,23,"config"],[30,31,25,2],[31,0,26,2],[31,8,26,6],[31,9,26,7,"config"],[31,15,26,13],[31,16,26,14,"subscribeKey"],[31,28,26,2],[31,30,26,28],[31,37,26,35],[31,60,26,28],[32,0,27,2],[32,8,27,6],[32,9,27,7,"config"],[32,15,27,13],[32,16,27,14,"publishKey"],[32,26,27,2],[32,28,27,26],[32,35,27,33],[32,56,27,26],[33,0,28,2],[33,8,28,6],[33,9,28,7,"config"],[33,15,28,13],[33,16,28,14,"secretKey"],[33,25,28,2],[33,27,28,25],[33,34,28,32],[33,54,28,25],[34,0,29,1],[36,0,31,0],[36,11,31,9,"getURL"],[36,17,31,0],[36,18,31,16,"modules"],[36,25,31,0],[36,27,31,25],[37,0,32,2],[37,8,32,6,"config"],[37,14,32,12],[37,17,32,15,"modules"],[37,24,32,22],[37,25,32,23,"config"],[37,31,32,2],[38,0,33,2],[38,11,33,9],[38,37,33,35,"concat"],[38,43,33,9],[38,44,33,42,"config"],[38,50,33,48],[38,51,33,49,"subscribeKey"],[38,63,33,9],[38,64,33,2],[39,0,34,1],[41,0,36,0],[41,11,36,9,"getRequestTimeout"],[41,28,36,0],[41,29,36,27,"_ref"],[41,33,36,0],[41,35,36,33],[42,0,37,2],[42,8,37,6,"config"],[42,14,37,12],[42,17,37,15,"_ref"],[42,21,37,19],[42,22,37,20,"config"],[42,28,37,2],[43,0,38,2],[43,11,38,9,"config"],[43,17,38,15],[43,18,38,16,"getTransactionTimeout"],[43,39,38,9],[43,41,38,2],[44,0,39,1],[46,0,41,0],[46,11,41,9,"isAuthSupported"],[46,26,41,0],[46,29,41,27],[47,0,42,2],[47,11,42,9],[47,16,42,2],[48,0,43,1],[50,0,45,0],[50,11,45,9,"prepareParams"],[50,24,45,0],[50,25,45,23,"modules"],[50,32,45,0],[50,34,45,32,"incomingParams"],[50,48,45,0],[50,50,45,48],[51,0,46,2],[51,8,46,6,"_incomingParams$chann"],[51,29,46,27],[51,32,46,30,"incomingParams"],[51,46,46,44],[51,47,46,45,"channels"],[51,55,46,2],[52,0,46,2],[52,8,47,6,"channels"],[52,16,47,14],[52,19,47,17,"_incomingParams$chann"],[52,40,47,38],[52,45,47,43],[52,50,47,48],[52,51,47,17],[52,54,47,52],[52,56,47,17],[52,59,47,57,"_incomingParams$chann"],[52,80,46,2],[53,0,46,2],[53,8,48,6,"_incomingParams$chann2"],[53,30,48,28],[53,33,48,31,"incomingParams"],[53,47,48,45],[53,48,48,46,"channelGroups"],[53,61,46,2],[54,0,46,2],[54,8,49,6,"channelGroups"],[54,21,49,19],[54,24,49,22,"_incomingParams$chann2"],[54,46,49,44],[54,51,49,49],[54,56,49,54],[54,57,49,22],[54,60,49,58],[54,62,49,22],[54,65,49,63,"_incomingParams$chann2"],[54,87,46,2],[55,0,46,2],[55,8,50,6,"ttl"],[55,11,50,9],[55,14,50,12,"incomingParams"],[55,28,50,26],[55,29,50,27,"ttl"],[55,32,46,2],[56,0,46,2],[56,8,51,6,"_incomingParams$read"],[56,28,51,26],[56,31,51,29,"incomingParams"],[56,45,51,43],[56,46,51,44,"read"],[56,50,46,2],[57,0,46,2],[57,8,52,6,"read"],[57,12,52,10],[57,15,52,13,"_incomingParams$read"],[57,35,52,33],[57,40,52,38],[57,45,52,43],[57,46,52,13],[57,49,52,47],[57,54,52,13],[57,57,52,55,"_incomingParams$read"],[57,77,46,2],[58,0,46,2],[58,8,53,6,"_incomingParams$write"],[58,29,53,27],[58,32,53,30,"incomingParams"],[58,46,53,44],[58,47,53,45,"write"],[58,52,46,2],[59,0,46,2],[59,8,54,6,"write"],[59,13,54,11],[59,16,54,14,"_incomingParams$write"],[59,37,54,35],[59,42,54,40],[59,47,54,45],[59,48,54,14],[59,51,54,49],[59,56,54,14],[59,59,54,57,"_incomingParams$write"],[59,80,46,2],[60,0,46,2],[60,8,55,6,"_incomingParams$manag"],[60,29,55,27],[60,32,55,30,"incomingParams"],[60,46,55,44],[60,47,55,45,"manage"],[60,53,46,2],[61,0,46,2],[61,8,56,6,"manage"],[61,14,56,12],[61,17,56,15,"_incomingParams$manag"],[61,38,56,36],[61,43,56,41],[61,48,56,46],[61,49,56,15],[61,52,56,50],[61,57,56,15],[61,60,56,58,"_incomingParams$manag"],[61,81,46,2],[62,0,46,2],[62,8,57,6,"_incomingParams$authK"],[62,29,57,27],[62,32,57,30,"incomingParams"],[62,46,57,44],[62,47,57,45,"authKeys"],[62,55,46,2],[63,0,46,2],[63,8,58,6,"authKeys"],[63,16,58,14],[63,19,58,17,"_incomingParams$authK"],[63,40,58,38],[63,45,58,43],[63,50,58,48],[63,51,58,17],[63,54,58,52],[63,56,58,17],[63,59,58,57,"_incomingParams$authK"],[63,80,46,2],[64,0,59,2],[64,8,59,6,"params"],[64,14,59,12],[64,17,59,15],[64,19,59,2],[65,0,60,2,"params"],[65,4,60,2,"params"],[65,10,60,8],[65,11,60,9,"r"],[65,12,60,2],[65,15,60,13,"read"],[65,19,60,17],[65,22,60,20],[65,25,60,17],[65,28,60,26],[65,31,60,2],[66,0,61,2,"params"],[66,4,61,2,"params"],[66,10,61,8],[66,11,61,9,"w"],[66,12,61,2],[66,15,61,13,"write"],[66,20,61,18],[66,23,61,21],[66,26,61,18],[66,29,61,27],[66,32,61,2],[67,0,62,2,"params"],[67,4,62,2,"params"],[67,10,62,8],[67,11,62,9,"m"],[67,12,62,2],[67,15,62,13,"manage"],[67,21,62,19],[67,24,62,22],[67,27,62,19],[67,30,62,28],[67,33,62,2],[69,0,64,2],[69,8,64,6,"channels"],[69,16,64,14],[69,17,64,15,"length"],[69,23,64,6],[69,26,64,24],[69,27,64,2],[69,29,64,27],[70,0,65,4,"params"],[70,6,65,4,"params"],[70,12,65,10],[70,13,65,11,"channel"],[70,20,65,4],[70,23,65,21,"channels"],[70,31,65,29],[70,32,65,30,"join"],[70,36,65,21],[70,37,65,35],[70,40,65,21],[70,41,65,4],[71,0,66,3],[73,0,68,2],[73,8,68,6,"channelGroups"],[73,21,68,19],[73,22,68,20,"length"],[73,28,68,6],[73,31,68,29],[73,32,68,2],[73,34,68,32],[74,0,69,4,"params"],[74,6,69,4,"params"],[74,12,69,10],[74,13,69,11],[74,28,69,10],[74,29,69,4],[74,32,69,30,"channelGroups"],[74,45,69,43],[74,46,69,44,"join"],[74,50,69,30],[74,51,69,49],[74,54,69,30],[74,55,69,4],[75,0,70,3],[77,0,72,2],[77,8,72,6,"authKeys"],[77,16,72,14],[77,17,72,15,"length"],[77,23,72,6],[77,26,72,24],[77,27,72,2],[77,29,72,27],[78,0,73,4,"params"],[78,6,73,4,"params"],[78,12,73,10],[78,13,73,11,"auth"],[78,17,73,4],[78,20,73,18,"authKeys"],[78,28,73,26],[78,29,73,27,"join"],[78,33,73,18],[78,34,73,32],[78,37,73,18],[78,38,73,4],[79,0,74,3],[81,0,76,2],[81,8,76,6,"ttl"],[81,11,76,9],[81,15,76,13,"ttl"],[81,18,76,16],[81,23,76,21],[81,24,76,2],[81,26,76,24],[82,0,77,4,"params"],[82,6,77,4,"params"],[82,12,77,10],[82,13,77,11,"ttl"],[82,16,77,4],[82,19,77,17,"ttl"],[82,22,77,4],[83,0,78,3],[85,0,80,2],[85,11,80,9,"params"],[85,17,80,2],[86,0,81,1],[88,0,83,0],[88,11,83,9,"handleResponse"],[88,25,83,0],[88,28,83,26],[89,0,84,2],[89,11,84,9],[89,13,84,2],[90,0,85,1]],"functionMap":{"names":["<global>","_interopRequireDefault","getOperation","validateParams","getURL","getRequestTimeout","isAuthSupported","prepareParams","handleResponse"],"mappings":"AAA;ACiB,iGD;AEE;CFE;AGE;CHK;AIE;CJG;AKE;CLG;AME;CNE;AOE;CPoC;AQE;CRE"}},"type":"js/module"}]}