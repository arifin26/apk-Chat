{"dependencies":[{"name":"../config.json","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.Broadcast = undefined;\n\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  var _config = _$$_REQUIRE(_dependencyMap[0], \"../config.json\");\n\n  var _config2 = _interopRequireDefault(_config);\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function subscribeChannel(event, channel, callback) {\n    if (!event[channel]) {\n      event[channel] = callback || {};\n    } else if (event[channel] === {} && callback) {\n      event[channel] = callback;\n    }\n  }\n\n  function unsubscribeChannel(event, channel) {\n    if (event[channel]) {\n      delete event[channel];\n    }\n  }\n\n  var Broadcast = exports.Broadcast = function () {\n    function Broadcast() {\n      _classCallCheck(this, Broadcast);\n\n      this._message = {};\n      this._presence = {};\n      this._status = null;\n    }\n\n    _createClass(Broadcast, [{\n      key: 'message',\n      value: function message(channel, callback) {\n        subscribeChannel(this._message, channel, callback);\n      }\n    }, {\n      key: 'presence',\n      value: function presence(channel, callback) {\n        subscribeChannel(this._presence, channel, callback);\n      }\n    }, {\n      key: 'status',\n      value: function status(callback) {\n        if (!this._status) {\n          this._status = callback || {};\n        } else if (this._status === {} && callback) {\n          this._status = callback;\n        }\n      }\n    }, {\n      key: 'isSubscribe',\n      value: function isSubscribe(event, channel) {\n        var subscriber = '_' + event;\n\n        if (subscriber === '_status') {\n          return this[subscriber];\n        } else {\n          return this[subscriber] && this[subscriber][channel];\n        }\n      }\n    }, {\n      key: 'emit',\n      value: function emit(event, channel, args) {\n        var subscriber = '_' + event;\n\n        if (this[subscriber] && this[subscriber][channel] && typeof this[subscriber][channel] === 'function') {\n          this[subscriber][channel].call(null, args);\n        }\n      }\n    }, {\n      key: 'emitStatus',\n      value: function emitStatus(args) {\n        if (this._status && typeof this._status === 'function') {\n          this._status.call(null, args);\n        }\n      }\n    }, {\n      key: 'error',\n      value: function error(callback) {\n        this._error = callback;\n      }\n    }, {\n      key: 'emitError',\n      value: function emitError(args) {\n        if (this._error) {\n          this._error.call(null, args);\n        }\n      }\n    }, {\n      key: 'unsubscribe',\n      value: function unsubscribe(channel) {\n        var _this = this;\n\n        _config2.default.subscribe_listener_events_to_broadcast.forEach(function (event) {\n          var subscriber = '_' + event;\n          unsubscribeChannel(_this[subscriber], channel);\n        });\n      }\n    }]);\n\n    return Broadcast;\n  }();\n});","lineCount":138,"map":[[2,0,1,0],[4,0,3,0,"Object"],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,0],[4,24,3,22,"exports"],[4,31,3,0],[4,33,3,31],[4,45,3,0],[4,47,3,45],[5,0,4,2,"value"],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,0,3,45],[6,3,3,0],[7,0,6,0,"exports"],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"Broadcast"],[7,19,6,0],[7,22,6,20,"undefined"],[7,31,6,0],[9,0,8,0],[9,6,8,4,"_createClass"],[9,18,8,16],[9,21,8,19],[9,33,8,31],[10,0,8,33],[10,13,8,42,"defineProperties"],[10,29,8,33],[10,30,8,59,"target"],[10,36,8,33],[10,38,8,67,"props"],[10,43,8,33],[10,45,8,74],[11,0,8,76],[11,11,8,81],[11,15,8,85,"i"],[11,16,8,86],[11,19,8,89],[11,20,8,76],[11,22,8,92,"i"],[11,23,8,93],[11,26,8,96,"props"],[11,31,8,101],[11,32,8,102,"length"],[11,38,8,76],[11,40,8,110,"i"],[11,41,8,111],[11,43,8,76],[11,45,8,115],[12,0,8,117],[12,12,8,121,"descriptor"],[12,22,8,131],[12,25,8,134,"props"],[12,30,8,139],[12,31,8,140,"i"],[12,32,8,139],[12,33,8,117],[13,0,8,144,"descriptor"],[13,8,8,144,"descriptor"],[13,18,8,154],[13,19,8,155,"enumerable"],[13,29,8,144],[13,32,8,168,"descriptor"],[13,42,8,178],[13,43,8,179,"enumerable"],[13,53,8,168],[13,57,8,193],[13,62,8,144],[14,0,8,200,"descriptor"],[14,8,8,200,"descriptor"],[14,18,8,210],[14,19,8,211,"configurable"],[14,31,8,200],[14,34,8,226],[14,38,8,200],[15,0,8,232],[15,12,8,236],[15,23,8,247,"descriptor"],[15,33,8,232],[15,35,8,259,"descriptor"],[15,45,8,269],[15,46,8,270,"writable"],[15,54,8,259],[15,57,8,281],[15,61,8,259],[16,0,8,287,"Object"],[16,8,8,287,"Object"],[16,14,8,293],[16,15,8,294,"defineProperty"],[16,29,8,287],[16,30,8,309,"target"],[16,36,8,287],[16,38,8,317,"descriptor"],[16,48,8,327],[16,49,8,328,"key"],[16,52,8,287],[16,54,8,333,"descriptor"],[16,64,8,287],[17,0,8,347],[18,0,8,349],[20,0,8,350],[20,11,8,357],[20,21,8,367,"Constructor"],[20,32,8,357],[20,34,8,380,"protoProps"],[20,44,8,357],[20,46,8,392,"staticProps"],[20,57,8,357],[20,59,8,405],[21,0,8,407],[21,10,8,411,"protoProps"],[21,20,8,407],[21,22,8,423,"defineProperties"],[21,38,8,439],[21,39,8,440,"Constructor"],[21,50,8,451],[21,51,8,452,"prototype"],[21,60,8,439],[21,62,8,463,"protoProps"],[21,72,8,439],[21,73,8,423],[22,0,8,476],[22,10,8,480,"staticProps"],[22,21,8,476],[22,23,8,493,"defineProperties"],[22,39,8,509],[22,40,8,510,"Constructor"],[22,51,8,509],[22,53,8,523,"staticProps"],[22,64,8,509],[22,65,8,493],[23,0,8,537],[23,13,8,544,"Constructor"],[23,24,8,537],[24,0,8,558],[24,5,8,350],[25,0,8,561],[25,3,8,19],[25,5,8,0],[27,0,10,0],[27,6,10,4,"_config"],[27,13,10,11],[27,16,10,14,"require"],[27,27,10,21],[27,64,10,0],[29,0,12,0],[29,6,12,4,"_config2"],[29,14,12,12],[29,17,12,15,"_interopRequireDefault"],[29,39,12,37],[29,40,12,38,"_config"],[29,47,12,37],[29,48,12,0],[31,0,14,0],[31,11,14,9,"_interopRequireDefault"],[31,33,14,0],[31,34,14,32,"obj"],[31,37,14,0],[31,39,14,37],[32,0,14,39],[32,11,14,46,"obj"],[32,14,14,49],[32,18,14,53,"obj"],[32,21,14,56],[32,22,14,57,"__esModule"],[32,32,14,46],[32,35,14,70,"obj"],[32,38,14,46],[32,41,14,76],[33,0,14,78,"default"],[33,6,14,78,"default"],[33,13,14,85],[33,15,14,87,"obj"],[34,0,14,76],[34,5,14,39],[35,0,14,95],[37,0,16,0],[37,11,16,9,"_classCallCheck"],[37,26,16,0],[37,27,16,25,"instance"],[37,35,16,0],[37,37,16,35,"Constructor"],[37,48,16,0],[37,50,16,48],[38,0,16,50],[38,8,16,54],[38,10,16,56,"instance"],[38,18,16,64],[38,30,16,76,"Constructor"],[38,41,16,54],[38,42,16,50],[38,44,16,90],[39,0,16,92],[39,12,16,98],[39,16,16,102,"TypeError"],[39,25,16,98],[39,26,16,112],[39,61,16,98],[39,62,16,92],[40,0,16,151],[41,0,16,153],[43,0,18,0],[43,11,18,9,"subscribeChannel"],[43,27,18,0],[43,28,18,26,"event"],[43,33,18,0],[43,35,18,33,"channel"],[43,42,18,0],[43,44,18,42,"callback"],[43,52,18,0],[43,54,18,52],[44,0,19,2],[44,8,19,6],[44,9,19,7,"event"],[44,14,19,12],[44,15,19,13,"channel"],[44,22,19,12],[44,23,19,2],[44,25,19,23],[45,0,20,4,"event"],[45,6,20,4,"event"],[45,11,20,9],[45,12,20,10,"channel"],[45,19,20,9],[45,20,20,4],[45,23,20,21,"callback"],[45,31,20,29],[45,35,20,33],[45,37,20,4],[46,0,21,3],[46,5,19,2],[46,11,21,9],[46,15,21,13,"event"],[46,20,21,18],[46,21,21,19,"channel"],[46,28,21,18],[46,29,21,13],[46,34,21,32],[46,36,21,13],[46,40,21,38,"callback"],[46,48,21,9],[46,50,21,48],[47,0,22,4,"event"],[47,6,22,4,"event"],[47,11,22,9],[47,12,22,10,"channel"],[47,19,22,9],[47,20,22,4],[47,23,22,21,"callback"],[47,31,22,4],[48,0,23,3],[49,0,24,1],[51,0,26,0],[51,11,26,9,"unsubscribeChannel"],[51,29,26,0],[51,30,26,28,"event"],[51,35,26,0],[51,37,26,35,"channel"],[51,44,26,0],[51,46,26,44],[52,0,27,2],[52,8,27,6,"event"],[52,13,27,11],[52,14,27,12,"channel"],[52,21,27,11],[52,22,27,2],[52,24,27,22],[53,0,28,4],[53,13,28,11,"event"],[53,18,28,16],[53,19,28,17,"channel"],[53,26,28,16],[53,27,28,4],[54,0,29,3],[55,0,30,1],[57,0,32,0],[57,6,32,4,"Broadcast"],[57,15,32,13],[57,18,32,16,"exports"],[57,25,32,23],[57,26,32,24,"Broadcast"],[57,35,32,16],[57,38,32,36],[57,50,32,48],[58,0,33,2],[58,13,33,11,"Broadcast"],[58,22,33,2],[58,25,33,23],[59,0,34,4,"_classCallCheck"],[59,6,34,4,"_classCallCheck"],[59,21,34,19],[59,22,34,20],[59,26,34,19],[59,28,34,26,"Broadcast"],[59,37,34,19],[59,38,34,4],[61,0,36,4],[61,11,36,9,"_message"],[61,19,36,4],[61,22,36,20],[61,24,36,4],[62,0,37,4],[62,11,37,9,"_presence"],[62,20,37,4],[62,23,37,21],[62,25,37,4],[63,0,38,4],[63,11,38,9,"_status"],[63,18,38,4],[63,21,38,19],[63,25,38,4],[64,0,39,3],[66,0,41,2,"_createClass"],[66,4,41,2,"_createClass"],[66,16,41,14],[66,17,41,15,"Broadcast"],[66,26,41,14],[66,28,41,26],[66,29,41,27],[67,0,42,4,"key"],[67,6,42,4,"key"],[67,9,42,7],[67,11,42,9],[67,20,41,27],[68,0,43,4,"value"],[68,6,43,4,"value"],[68,11,43,9],[68,13,43,11],[68,22,43,20,"message"],[68,29,43,11],[68,30,43,28,"channel"],[68,37,43,11],[68,39,43,37,"callback"],[68,47,43,11],[68,49,43,47],[69,0,44,6,"subscribeChannel"],[69,8,44,6,"subscribeChannel"],[69,24,44,22],[69,25,44,23],[69,30,44,28,"_message"],[69,38,44,22],[69,40,44,38,"channel"],[69,47,44,22],[69,49,44,47,"callback"],[69,57,44,22],[69,58,44,6],[70,0,45,5],[71,0,41,27],[71,5,41,26],[71,7,46,5],[72,0,47,4,"key"],[72,6,47,4,"key"],[72,9,47,7],[72,11,47,9],[72,21,46,5],[73,0,48,4,"value"],[73,6,48,4,"value"],[73,11,48,9],[73,13,48,11],[73,22,48,20,"presence"],[73,30,48,11],[73,31,48,29,"channel"],[73,38,48,11],[73,40,48,38,"callback"],[73,48,48,11],[73,50,48,48],[74,0,49,6,"subscribeChannel"],[74,8,49,6,"subscribeChannel"],[74,24,49,22],[74,25,49,23],[74,30,49,28,"_presence"],[74,39,49,22],[74,41,49,39,"channel"],[74,48,49,22],[74,50,49,48,"callback"],[74,58,49,22],[74,59,49,6],[75,0,50,5],[76,0,46,5],[76,5,41,26],[76,7,51,5],[77,0,52,4,"key"],[77,6,52,4,"key"],[77,9,52,7],[77,11,52,9],[77,19,51,5],[78,0,53,4,"value"],[78,6,53,4,"value"],[78,11,53,9],[78,13,53,11],[78,22,53,20,"status"],[78,28,53,11],[78,29,53,27,"callback"],[78,37,53,11],[78,39,53,37],[79,0,54,6],[79,12,54,10],[79,13,54,11],[79,18,54,16,"_status"],[79,25,54,6],[79,27,54,25],[80,0,55,8],[80,15,55,13,"_status"],[80,22,55,8],[80,25,55,23,"callback"],[80,33,55,31],[80,37,55,35],[80,39,55,8],[81,0,56,7],[81,9,54,6],[81,15,56,13],[81,19,56,17],[81,24,56,22,"_status"],[81,31,56,17],[81,36,56,34],[81,38,56,17],[81,42,56,40,"callback"],[81,50,56,13],[81,52,56,50],[82,0,57,8],[82,15,57,13,"_status"],[82,22,57,8],[82,25,57,23,"callback"],[82,33,57,8],[83,0,58,7],[84,0,59,5],[85,0,51,5],[85,5,41,26],[85,7,60,5],[86,0,61,4,"key"],[86,6,61,4,"key"],[86,9,61,7],[86,11,61,9],[86,24,60,5],[87,0,62,4,"value"],[87,6,62,4,"value"],[87,11,62,9],[87,13,62,11],[87,22,62,20,"isSubscribe"],[87,33,62,11],[87,34,62,32,"event"],[87,39,62,11],[87,41,62,39,"channel"],[87,48,62,11],[87,50,62,48],[88,0,63,6],[88,12,63,10,"subscriber"],[88,22,63,20],[88,25,63,23],[88,31,63,29,"event"],[88,36,63,6],[90,0,65,6],[90,12,65,10,"subscriber"],[90,22,65,20],[90,27,65,25],[90,36,65,6],[90,38,65,36],[91,0,66,8],[91,17,66,15],[91,22,66,20,"subscriber"],[91,32,66,15],[91,33,66,8],[92,0,67,7],[92,9,65,6],[92,15,67,13],[93,0,68,8],[93,17,68,15],[93,22,68,20,"subscriber"],[93,32,68,15],[93,37,68,35],[93,42,68,40,"subscriber"],[93,52,68,35],[93,54,68,52,"channel"],[93,61,68,35],[93,62,68,8],[94,0,69,7],[95,0,70,5],[96,0,60,5],[96,5,41,26],[96,7,71,5],[97,0,72,4,"key"],[97,6,72,4,"key"],[97,9,72,7],[97,11,72,9],[97,17,71,5],[98,0,73,4,"value"],[98,6,73,4,"value"],[98,11,73,9],[98,13,73,11],[98,22,73,20,"emit"],[98,26,73,11],[98,27,73,25,"event"],[98,32,73,11],[98,34,73,32,"channel"],[98,41,73,11],[98,43,73,41,"args"],[98,47,73,11],[98,49,73,47],[99,0,74,6],[99,12,74,10,"subscriber"],[99,22,74,20],[99,25,74,23],[99,31,74,29,"event"],[99,36,74,6],[101,0,76,6],[101,12,76,10],[101,17,76,15,"subscriber"],[101,27,76,10],[101,32,76,30],[101,37,76,35,"subscriber"],[101,47,76,30],[101,49,76,47,"channel"],[101,56,76,30],[101,57,76,10],[101,61,76,59],[101,68,76,66],[101,73,76,71,"subscriber"],[101,83,76,66],[101,85,76,83,"channel"],[101,92,76,66],[101,93,76,59],[101,98,76,96],[101,108,76,6],[101,110,76,108],[102,0,77,8],[102,15,77,13,"subscriber"],[102,25,77,8],[102,27,77,25,"channel"],[102,34,77,8],[102,36,77,34,"call"],[102,40,77,8],[102,41,77,39],[102,45,77,8],[102,47,77,45,"args"],[102,51,77,8],[103,0,78,7],[104,0,79,5],[105,0,71,5],[105,5,41,26],[105,7,80,5],[106,0,81,4,"key"],[106,6,81,4,"key"],[106,9,81,7],[106,11,81,9],[106,23,80,5],[107,0,82,4,"value"],[107,6,82,4,"value"],[107,11,82,9],[107,13,82,11],[107,22,82,20,"emitStatus"],[107,32,82,11],[107,33,82,31,"args"],[107,37,82,11],[107,39,82,37],[108,0,83,6],[108,12,83,10],[108,17,83,15,"_status"],[108,24,83,10],[108,28,83,26],[108,35,83,33],[108,40,83,38,"_status"],[108,47,83,26],[108,52,83,50],[108,62,83,6],[108,64,83,62],[109,0,84,8],[109,15,84,13,"_status"],[109,22,84,8],[109,23,84,21,"call"],[109,27,84,8],[109,28,84,26],[109,32,84,8],[109,34,84,32,"args"],[109,38,84,8],[110,0,85,7],[111,0,86,5],[112,0,80,5],[112,5,41,26],[112,7,87,5],[113,0,88,4,"key"],[113,6,88,4,"key"],[113,9,88,7],[113,11,88,9],[113,18,87,5],[114,0,89,4,"value"],[114,6,89,4,"value"],[114,11,89,9],[114,13,89,11],[114,22,89,20,"error"],[114,27,89,11],[114,28,89,26,"callback"],[114,36,89,11],[114,38,89,36],[115,0,90,6],[115,13,90,11,"_error"],[115,19,90,6],[115,22,90,20,"callback"],[115,30,90,6],[116,0,91,5],[117,0,87,5],[117,5,41,26],[117,7,92,5],[118,0,93,4,"key"],[118,6,93,4,"key"],[118,9,93,7],[118,11,93,9],[118,22,92,5],[119,0,94,4,"value"],[119,6,94,4,"value"],[119,11,94,9],[119,13,94,11],[119,22,94,20,"emitError"],[119,31,94,11],[119,32,94,30,"args"],[119,36,94,11],[119,38,94,36],[120,0,95,6],[120,12,95,10],[120,17,95,15,"_error"],[120,23,95,6],[120,25,95,23],[121,0,96,8],[121,15,96,13,"_error"],[121,21,96,8],[121,22,96,20,"call"],[121,26,96,8],[121,27,96,25],[121,31,96,8],[121,33,96,31,"args"],[121,37,96,8],[122,0,97,7],[123,0,98,5],[124,0,92,5],[124,5,41,26],[124,7,99,5],[125,0,100,4,"key"],[125,6,100,4,"key"],[125,9,100,7],[125,11,100,9],[125,24,99,5],[126,0,101,4,"value"],[126,6,101,4,"value"],[126,11,101,9],[126,13,101,11],[126,22,101,20,"unsubscribe"],[126,33,101,11],[126,34,101,32,"channel"],[126,41,101,11],[126,43,101,41],[127,0,102,6],[127,12,102,10,"_this"],[127,17,102,15],[127,20,102,18],[127,24,102,6],[129,0,104,6,"_config2"],[129,8,104,6,"_config2"],[129,16,104,14],[129,17,104,15,"default"],[129,24,104,6],[129,25,104,23,"subscribe_listener_events_to_broadcast"],[129,63,104,6],[129,64,104,62,"forEach"],[129,71,104,6],[129,72,104,70],[129,82,104,80,"event"],[129,87,104,70],[129,89,104,87],[130,0,105,8],[130,14,105,12,"subscriber"],[130,24,105,22],[130,27,105,25],[130,33,105,31,"event"],[130,38,105,8],[131,0,107,8,"unsubscribeChannel"],[131,10,107,8,"unsubscribeChannel"],[131,28,107,26],[131,29,107,27,"_this"],[131,34,107,32],[131,35,107,33,"subscriber"],[131,45,107,32],[131,46,107,26],[131,48,107,46,"channel"],[131,55,107,26],[131,56,107,8],[132,0,108,7],[132,9,104,6],[133,0,109,5],[134,0,99,5],[134,5,41,26],[134,6,41,14],[134,7,41,2],[136,0,112,2],[136,11,112,9,"Broadcast"],[136,20,112,2],[137,0,113,1],[137,3,32,36],[137,5,32,0]],"functionMap":{"names":["<global>","<anonymous>","defineProperties","_interopRequireDefault","_classCallCheck","subscribeChannel","unsubscribeChannel","Broadcast","message","presence","status","isSubscribe","emit","emitStatus","error","emitError","unsubscribe","_config2._default.subscribe_listener_events_to_broadcast.forEach$argument_0"],"mappings":"AAA;mBCO,cC,4TD,oND;AGM,+FH;AIE,yJJ;AKE;CLM;AME;CNI;oCCE;EMC;GNM;WOI;KPE;WQG;KRE;WSG;KTM;WUG;KVQ;WWG;KXM;WYG;KZI;WaG;KbE;WcG;KdI;WeG;sECG;ODI;KfC;CDI"}},"type":"js/module"}]}