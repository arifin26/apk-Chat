{"dependencies":[{"name":"../endpoints/time","data":{"isAsync":false}},{"name":"../flow_interfaces","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports[\"default\"] = void 0;\n\n  var _time = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[0], \"../endpoints/time\"));\n\n  var _flow_interfaces = _$$_REQUIRE(_dependencyMap[1], \"../flow_interfaces\");\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      \"default\": obj\n    };\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  var _default = function () {\n    function _default(_ref) {\n      var timeEndpoint = _ref.timeEndpoint;\n\n      _classCallCheck(this, _default);\n\n      _defineProperty(this, \"_reconnectionCallback\", void 0);\n\n      _defineProperty(this, \"_timeEndpoint\", void 0);\n\n      _defineProperty(this, \"_timeTimer\", void 0);\n\n      this._timeEndpoint = timeEndpoint;\n    }\n\n    _createClass(_default, [{\n      key: \"onReconnection\",\n      value: function onReconnection(reconnectionCallback) {\n        this._reconnectionCallback = reconnectionCallback;\n      }\n    }, {\n      key: \"startPolling\",\n      value: function startPolling() {\n        this._timeTimer = setInterval(this._performTimeLoop.bind(this), 3000);\n      }\n    }, {\n      key: \"stopPolling\",\n      value: function stopPolling() {\n        clearInterval(this._timeTimer);\n      }\n    }, {\n      key: \"_performTimeLoop\",\n      value: function _performTimeLoop() {\n        var _this = this;\n\n        this._timeEndpoint(function (status) {\n          if (!status.error) {\n            clearInterval(_this._timeTimer);\n\n            _this._reconnectionCallback();\n          }\n        });\n      }\n    }]);\n\n    return _default;\n  }();\n\n  exports[\"default\"] = _default;\n  module.exports = exports.default;\n});","lineCount":106,"map":[[2,0,1,0],[4,0,3,0,"Object"],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,0],[4,24,3,22,"exports"],[4,31,3,0],[4,33,3,31],[4,45,3,0],[4,47,3,45],[5,0,4,2,"value"],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,0,3,45],[6,3,3,0],[7,0,6,0,"exports"],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8],[7,19,6,7],[7,20,6,0],[7,23,6,21],[7,28,6,26],[7,29,6,0],[9,0,8,0],[9,6,8,4,"_time"],[9,11,8,9],[9,14,8,12,"_interopRequireDefault"],[9,36,8,34],[9,37,8,35,"require"],[9,48,8,42],[9,88,8,34],[9,89,8,0],[11,0,10,0],[11,6,10,4,"_flow_interfaces"],[11,22,10,20],[11,25,10,23,"require"],[11,36,10,30],[11,77,10,0],[13,0,12,0],[13,11,12,9,"_interopRequireDefault"],[13,33,12,0],[13,34,12,32,"obj"],[13,37,12,0],[13,39,12,37],[14,0,12,39],[14,11,12,46,"obj"],[14,14,12,49],[14,18,12,53,"obj"],[14,21,12,56],[14,22,12,57,"__esModule"],[14,32,12,46],[14,35,12,70,"obj"],[14,38,12,46],[14,41,12,76],[15,0,12,78],[15,17,12,89,"obj"],[16,0,12,76],[16,5,12,39],[17,0,12,97],[19,0,14,0],[19,11,14,9,"_classCallCheck"],[19,26,14,0],[19,27,14,25,"instance"],[19,35,14,0],[19,37,14,35,"Constructor"],[19,48,14,0],[19,50,14,48],[20,0,14,50],[20,8,14,54],[20,10,14,56,"instance"],[20,18,14,64],[20,30,14,76,"Constructor"],[20,41,14,54],[20,42,14,50],[20,44,14,90],[21,0,14,92],[21,12,14,98],[21,16,14,102,"TypeError"],[21,25,14,98],[21,26,14,112],[21,61,14,98],[21,62,14,92],[22,0,14,151],[23,0,14,153],[25,0,16,0],[25,11,16,9,"_defineProperties"],[25,28,16,0],[25,29,16,27,"target"],[25,35,16,0],[25,37,16,35,"props"],[25,42,16,0],[25,44,16,42],[26,0,16,44],[26,9,16,49],[26,13,16,53,"i"],[26,14,16,54],[26,17,16,57],[26,18,16,44],[26,20,16,60,"i"],[26,21,16,61],[26,24,16,64,"props"],[26,29,16,69],[26,30,16,70,"length"],[26,36,16,44],[26,38,16,78,"i"],[26,39,16,79],[26,41,16,44],[26,43,16,83],[27,0,16,85],[27,10,16,89,"descriptor"],[27,20,16,99],[27,23,16,102,"props"],[27,28,16,107],[27,29,16,108,"i"],[27,30,16,107],[27,31,16,85],[28,0,16,112,"descriptor"],[28,6,16,112,"descriptor"],[28,16,16,122],[28,17,16,123,"enumerable"],[28,27,16,112],[28,30,16,136,"descriptor"],[28,40,16,146],[28,41,16,147,"enumerable"],[28,51,16,136],[28,55,16,161],[28,60,16,112],[29,0,16,168,"descriptor"],[29,6,16,168,"descriptor"],[29,16,16,178],[29,17,16,179,"configurable"],[29,29,16,168],[29,32,16,194],[29,36,16,168],[30,0,16,200],[30,10,16,204],[30,21,16,215,"descriptor"],[30,31,16,200],[30,33,16,227,"descriptor"],[30,43,16,237],[30,44,16,238,"writable"],[30,52,16,227],[30,55,16,249],[30,59,16,227],[31,0,16,255,"Object"],[31,6,16,255,"Object"],[31,12,16,261],[31,13,16,262,"defineProperty"],[31,27,16,255],[31,28,16,277,"target"],[31,34,16,255],[31,36,16,285,"descriptor"],[31,46,16,295],[31,47,16,296,"key"],[31,50,16,255],[31,52,16,301,"descriptor"],[31,62,16,255],[32,0,16,315],[33,0,16,317],[35,0,18,0],[35,11,18,9,"_createClass"],[35,23,18,0],[35,24,18,22,"Constructor"],[35,35,18,0],[35,37,18,35,"protoProps"],[35,47,18,0],[35,49,18,47,"staticProps"],[35,60,18,0],[35,62,18,60],[36,0,18,62],[36,8,18,66,"protoProps"],[36,18,18,62],[36,20,18,78,"_defineProperties"],[36,37,18,95],[36,38,18,96,"Constructor"],[36,49,18,107],[36,50,18,108,"prototype"],[36,59,18,95],[36,61,18,119,"protoProps"],[36,71,18,95],[36,72,18,78],[37,0,18,132],[37,8,18,136,"staticProps"],[37,19,18,132],[37,21,18,149,"_defineProperties"],[37,38,18,166],[37,39,18,167,"Constructor"],[37,50,18,166],[37,52,18,180,"staticProps"],[37,63,18,166],[37,64,18,149],[38,0,18,194],[38,11,18,201,"Constructor"],[38,22,18,194],[39,0,18,215],[41,0,20,0],[41,11,20,9,"_defineProperty"],[41,26,20,0],[41,27,20,25,"obj"],[41,30,20,0],[41,32,20,30,"key"],[41,35,20,0],[41,37,20,35,"value"],[41,42,20,0],[41,44,20,42],[42,0,20,44],[42,8,20,48,"key"],[42,11,20,51],[42,15,20,55,"obj"],[42,18,20,44],[42,20,20,60],[43,0,20,62,"Object"],[43,6,20,62,"Object"],[43,12,20,68],[43,13,20,69,"defineProperty"],[43,27,20,62],[43,28,20,84,"obj"],[43,31,20,62],[43,33,20,89,"key"],[43,36,20,62],[43,38,20,94],[44,0,20,96,"value"],[44,8,20,96,"value"],[44,13,20,101],[44,15,20,103,"value"],[44,20,20,94],[45,0,20,110,"enumerable"],[45,8,20,110,"enumerable"],[45,18,20,120],[45,20,20,122],[45,24,20,94],[46,0,20,128,"configurable"],[46,8,20,128,"configurable"],[46,20,20,140],[46,22,20,142],[46,26,20,94],[47,0,20,148,"writable"],[47,8,20,148,"writable"],[47,16,20,156],[47,18,20,158],[48,0,20,94],[48,7,20,62],[49,0,20,168],[49,5,20,44],[49,11,20,174],[50,0,20,176,"obj"],[50,6,20,176,"obj"],[50,9,20,179],[50,10,20,180,"key"],[50,13,20,179],[50,14,20,176],[50,17,20,187,"value"],[50,22,20,176],[51,0,20,195],[53,0,20,196],[53,11,20,203,"obj"],[53,14,20,196],[54,0,20,209],[56,0,22,0],[56,6,22,4,"_default"],[56,14,22,12],[56,17,22,15],[56,29,22,27],[57,0,23,2],[57,13,23,11,"_default"],[57,21,23,2],[57,22,23,20,"_ref"],[57,26,23,2],[57,28,23,26],[58,0,24,4],[58,10,24,8,"timeEndpoint"],[58,22,24,20],[58,25,24,23,"_ref"],[58,29,24,27],[58,30,24,28,"timeEndpoint"],[58,42,24,4],[60,0,26,4,"_classCallCheck"],[60,6,26,4,"_classCallCheck"],[60,21,26,19],[60,22,26,20],[60,26,26,19],[60,28,26,26,"_default"],[60,36,26,19],[60,37,26,4],[62,0,28,4,"_defineProperty"],[62,6,28,4,"_defineProperty"],[62,21,28,19],[62,22,28,20],[62,26,28,19],[62,28,28,26],[62,51,28,19],[62,53,28,51],[62,58,28,56],[62,59,28,19],[62,60,28,4],[64,0,30,4,"_defineProperty"],[64,6,30,4,"_defineProperty"],[64,21,30,19],[64,22,30,20],[64,26,30,19],[64,28,30,26],[64,43,30,19],[64,45,30,43],[64,50,30,48],[64,51,30,19],[64,52,30,4],[66,0,32,4,"_defineProperty"],[66,6,32,4,"_defineProperty"],[66,21,32,19],[66,22,32,20],[66,26,32,19],[66,28,32,26],[66,40,32,19],[66,42,32,40],[66,47,32,45],[66,48,32,19],[66,49,32,4],[68,0,34,4],[68,11,34,9,"_timeEndpoint"],[68,24,34,4],[68,27,34,25,"timeEndpoint"],[68,39,34,4],[69,0,35,3],[71,0,37,2,"_createClass"],[71,4,37,2,"_createClass"],[71,16,37,14],[71,17,37,15,"_default"],[71,25,37,14],[71,27,37,25],[71,28,37,26],[72,0,38,4,"key"],[72,6,38,4,"key"],[72,9,38,7],[72,11,38,9],[72,27,37,26],[73,0,39,4,"value"],[73,6,39,4,"value"],[73,11,39,9],[73,13,39,11],[73,22,39,20,"onReconnection"],[73,36,39,11],[73,37,39,35,"reconnectionCallback"],[73,57,39,11],[73,59,39,57],[74,0,40,6],[74,13,40,11,"_reconnectionCallback"],[74,34,40,6],[74,37,40,35,"reconnectionCallback"],[74,57,40,6],[75,0,41,5],[76,0,37,26],[76,5,37,25],[76,7,42,5],[77,0,43,4,"key"],[77,6,43,4,"key"],[77,9,43,7],[77,11,43,9],[77,25,42,5],[78,0,44,4,"value"],[78,6,44,4,"value"],[78,11,44,9],[78,13,44,11],[78,22,44,20,"startPolling"],[78,34,44,11],[78,37,44,35],[79,0,45,6],[79,13,45,11,"_timeTimer"],[79,23,45,6],[79,26,45,24,"setInterval"],[79,37,45,35],[79,38,45,36],[79,43,45,41,"_performTimeLoop"],[79,59,45,36],[79,60,45,58,"bind"],[79,64,45,36],[79,65,45,63],[79,69,45,36],[79,70,45,35],[79,72,45,70],[79,76,45,35],[79,77,45,6],[80,0,46,5],[81,0,42,5],[81,5,37,25],[81,7,47,5],[82,0,48,4,"key"],[82,6,48,4,"key"],[82,9,48,7],[82,11,48,9],[82,24,47,5],[83,0,49,4,"value"],[83,6,49,4,"value"],[83,11,49,9],[83,13,49,11],[83,22,49,20,"stopPolling"],[83,33,49,11],[83,36,49,34],[84,0,50,6,"clearInterval"],[84,8,50,6,"clearInterval"],[84,21,50,19],[84,22,50,20],[84,27,50,25,"_timeTimer"],[84,37,50,19],[84,38,50,6],[85,0,51,5],[86,0,47,5],[86,5,37,25],[86,7,52,5],[87,0,53,4,"key"],[87,6,53,4,"key"],[87,9,53,7],[87,11,53,9],[87,29,52,5],[88,0,54,4,"value"],[88,6,54,4,"value"],[88,11,54,9],[88,13,54,11],[88,22,54,20,"_performTimeLoop"],[88,38,54,11],[88,41,54,39],[89,0,55,6],[89,12,55,10,"_this"],[89,17,55,15],[89,20,55,18],[89,24,55,6],[91,0,57,6],[91,13,57,11,"_timeEndpoint"],[91,26,57,6],[91,27,57,25],[91,37,57,35,"status"],[91,43,57,25],[91,45,57,43],[92,0,58,8],[92,14,58,12],[92,15,58,13,"status"],[92,21,58,19],[92,22,58,20,"error"],[92,27,58,8],[92,29,58,27],[93,0,59,10,"clearInterval"],[93,12,59,10,"clearInterval"],[93,25,59,23],[93,26,59,24,"_this"],[93,31,59,29],[93,32,59,30,"_timeTimer"],[93,42,59,23],[93,43,59,10],[95,0,61,10,"_this"],[95,12,61,10,"_this"],[95,17,61,15],[95,18,61,16,"_reconnectionCallback"],[95,39,61,10],[96,0,62,9],[97,0,63,7],[97,9,57,6],[98,0,64,5],[99,0,52,5],[99,5,37,25],[99,6,37,14],[99,7,37,2],[101,0,67,2],[101,11,67,9,"_default"],[101,19,67,2],[102,0,68,1],[102,3,22,15],[102,5,22,0],[104,0,70,0,"exports"],[104,2,70,0,"exports"],[104,9,70,7],[104,10,70,8],[104,19,70,7],[104,20,70,0],[104,23,70,21,"_default"],[104,31,70,0],[105,0,71,0,"module"],[105,2,71,0,"module"],[105,8,71,6],[105,9,71,7,"exports"],[105,16,71,0],[105,19,71,17,"exports"],[105,26,71,24],[105,27,71,25,"default"],[105,34,71,0]],"functionMap":{"names":["<global>","_interopRequireDefault","_classCallCheck","_defineProperties","_createClass","_defineProperty","<anonymous>","_default","onReconnection","startPolling","stopPolling","_performTimeLoop","_timeEndpoint$argument_0"],"mappings":"AAA;ACW,iGD;AEE,yJF;AGE,6TH;AIE,uNJ;AKE,iNL;eME;ECC;GDY;WEI;KFE;WGG;KHE;WIG;KJE;WKG;yBCG;ODM;KLC;CNI"}},"type":"js/module"}]}