{"dependencies":[{"name":"../../flow_interfaces","data":{"isAsync":false}},{"name":"../../constants/operations","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getOperation = getOperation;\n  exports.validateParams = validateParams;\n  exports.usePost = usePost;\n  exports.getURL = getURL;\n  exports.postURL = postURL;\n  exports.getRequestTimeout = getRequestTimeout;\n  exports.isAuthSupported = isAuthSupported;\n  exports.getAuthToken = getAuthToken;\n  exports.prepareParams = prepareParams;\n  exports.postPayload = postPayload;\n  exports.handleResponse = handleResponse;\n\n  var _flow_interfaces = _$$_REQUIRE(_dependencyMap[0], \"../../flow_interfaces\");\n\n  var _operations = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"../../constants/operations\"));\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      \"default\": obj\n    };\n  }\n\n  function prepareMessagePayload(modules, incomingParams) {\n    return incomingParams;\n  }\n\n  function getOperation() {\n    return _operations[\"default\"].PNCreateSpaceOperation;\n  }\n\n  function validateParams(_ref, incomingParams) {\n    var config = _ref.config;\n    var id = incomingParams.id,\n        name = incomingParams.name,\n        custom = incomingParams.custom;\n    if (!id) return 'Missing Space.id';\n    if (!name) return 'Missing Space.name';\n    if (!config.subscribeKey) return 'Missing Subscribe Key';\n\n    if (custom) {\n      if (!Object.values(custom).every(function (value) {\n        return typeof value === 'string' || typeof value === 'number' || typeof value === 'boolean';\n      })) {\n        return 'Invalid custom type, only string, number and boolean values are allowed.';\n      }\n    }\n  }\n\n  function usePost() {\n    return true;\n  }\n\n  function getURL(modules) {\n    var config = modules.config;\n    return \"/v1/objects/\".concat(config.subscribeKey, \"/spaces\");\n  }\n\n  function postURL(modules) {\n    var config = modules.config;\n    return \"/v1/objects/\".concat(config.subscribeKey, \"/spaces\");\n  }\n\n  function getRequestTimeout(_ref2) {\n    var config = _ref2.config;\n    return config.getTransactionTimeout();\n  }\n\n  function isAuthSupported() {\n    return true;\n  }\n\n  function getAuthToken(modules, incomingParams) {\n    var token = modules.tokenManager.getToken('space', incomingParams.id) || modules.tokenManager.getToken('space');\n    return token;\n  }\n\n  function prepareParams(modules, incomingParams) {\n    var include = incomingParams.include;\n    var params = {};\n\n    if (!include) {\n      include = {\n        customFields: true\n      };\n    } else if (include.customFields === undefined) {\n      include.customFields = true;\n    }\n\n    if (include) {\n      var includes = [];\n\n      if (include.customFields) {\n        includes.push('custom');\n      }\n\n      var includesString = includes.join(',');\n\n      if (includesString.length > 0) {\n        params.include = includesString;\n      }\n    }\n\n    return params;\n  }\n\n  function postPayload(modules, incomingParams) {\n    return prepareMessagePayload(modules, incomingParams);\n  }\n\n  function handleResponse(modules, spacesResponse) {\n    return spacesResponse;\n  }\n});","lineCount":119,"map":[[2,0,1,0],[4,0,3,0,"Object"],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,0],[4,24,3,22,"exports"],[4,31,3,0],[4,33,3,31],[4,45,3,0],[4,47,3,45],[5,0,4,2,"value"],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,0,3,45],[6,3,3,0],[7,0,6,0,"exports"],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"getOperation"],[7,22,6,0],[7,25,6,23,"getOperation"],[7,37,6,0],[8,0,7,0,"exports"],[8,2,7,0,"exports"],[8,9,7,7],[8,10,7,8,"validateParams"],[8,24,7,0],[8,27,7,25,"validateParams"],[8,41,7,0],[9,0,8,0,"exports"],[9,2,8,0,"exports"],[9,9,8,7],[9,10,8,8,"usePost"],[9,17,8,0],[9,20,8,18,"usePost"],[9,27,8,0],[10,0,9,0,"exports"],[10,2,9,0,"exports"],[10,9,9,7],[10,10,9,8,"getURL"],[10,16,9,0],[10,19,9,17,"getURL"],[10,25,9,0],[11,0,10,0,"exports"],[11,2,10,0,"exports"],[11,9,10,7],[11,10,10,8,"postURL"],[11,17,10,0],[11,20,10,18,"postURL"],[11,27,10,0],[12,0,11,0,"exports"],[12,2,11,0,"exports"],[12,9,11,7],[12,10,11,8,"getRequestTimeout"],[12,27,11,0],[12,30,11,28,"getRequestTimeout"],[12,47,11,0],[13,0,12,0,"exports"],[13,2,12,0,"exports"],[13,9,12,7],[13,10,12,8,"isAuthSupported"],[13,25,12,0],[13,28,12,26,"isAuthSupported"],[13,43,12,0],[14,0,13,0,"exports"],[14,2,13,0,"exports"],[14,9,13,7],[14,10,13,8,"getAuthToken"],[14,22,13,0],[14,25,13,23,"getAuthToken"],[14,37,13,0],[15,0,14,0,"exports"],[15,2,14,0,"exports"],[15,9,14,7],[15,10,14,8,"prepareParams"],[15,23,14,0],[15,26,14,24,"prepareParams"],[15,39,14,0],[16,0,15,0,"exports"],[16,2,15,0,"exports"],[16,9,15,7],[16,10,15,8,"postPayload"],[16,21,15,0],[16,24,15,22,"postPayload"],[16,35,15,0],[17,0,16,0,"exports"],[17,2,16,0,"exports"],[17,9,16,7],[17,10,16,8,"handleResponse"],[17,24,16,0],[17,27,16,25,"handleResponse"],[17,41,16,0],[19,0,18,0],[19,6,18,4,"_flow_interfaces"],[19,22,18,20],[19,25,18,23,"require"],[19,36,18,30],[19,80,18,0],[21,0,20,0],[21,6,20,4,"_operations"],[21,17,20,15],[21,20,20,18,"_interopRequireDefault"],[21,42,20,40],[21,43,20,41,"require"],[21,54,20,48],[21,103,20,40],[21,104,20,0],[23,0,22,0],[23,11,22,9,"_interopRequireDefault"],[23,33,22,0],[23,34,22,32,"obj"],[23,37,22,0],[23,39,22,37],[24,0,22,39],[24,11,22,46,"obj"],[24,14,22,49],[24,18,22,53,"obj"],[24,21,22,56],[24,22,22,57,"__esModule"],[24,32,22,46],[24,35,22,70,"obj"],[24,38,22,46],[24,41,22,76],[25,0,22,78],[25,17,22,89,"obj"],[26,0,22,76],[26,5,22,39],[27,0,22,97],[29,0,24,0],[29,11,24,9,"prepareMessagePayload"],[29,32,24,0],[29,33,24,31,"modules"],[29,40,24,0],[29,42,24,40,"incomingParams"],[29,56,24,0],[29,58,24,56],[30,0,25,2],[30,11,25,9,"incomingParams"],[30,25,25,2],[31,0,26,1],[33,0,28,0],[33,11,28,9,"getOperation"],[33,23,28,0],[33,26,28,24],[34,0,29,2],[34,11,29,9,"_operations"],[34,22,29,20],[34,23,29,21],[34,32,29,20],[34,33,29,9],[34,34,29,32,"PNCreateSpaceOperation"],[34,56,29,2],[35,0,30,1],[37,0,32,0],[37,11,32,9,"validateParams"],[37,25,32,0],[37,26,32,24,"_ref"],[37,30,32,0],[37,32,32,30,"incomingParams"],[37,46,32,0],[37,48,32,46],[38,0,33,2],[38,8,33,6,"config"],[38,14,33,12],[38,17,33,15,"_ref"],[38,21,33,19],[38,22,33,20,"config"],[38,28,33,2],[39,0,34,2],[39,8,34,6,"id"],[39,10,34,8],[39,13,34,11,"incomingParams"],[39,27,34,25],[39,28,34,26,"id"],[39,30,34,2],[40,0,34,2],[40,8,35,6,"name"],[40,12,35,10],[40,15,35,13,"incomingParams"],[40,29,35,27],[40,30,35,28,"name"],[40,34,34,2],[41,0,34,2],[41,8,36,6,"custom"],[41,14,36,12],[41,17,36,15,"incomingParams"],[41,31,36,29],[41,32,36,30,"custom"],[41,38,34,2],[42,0,37,2],[42,8,37,6],[42,9,37,7,"id"],[42,11,37,2],[42,13,37,11],[42,20,37,18],[42,38,37,11],[43,0,38,2],[43,8,38,6],[43,9,38,7,"name"],[43,13,38,2],[43,15,38,13],[43,22,38,20],[43,42,38,13],[44,0,39,2],[44,8,39,6],[44,9,39,7,"config"],[44,15,39,13],[44,16,39,14,"subscribeKey"],[44,28,39,2],[44,30,39,28],[44,37,39,35],[44,60,39,28],[46,0,41,2],[46,8,41,6,"custom"],[46,14,41,2],[46,16,41,14],[47,0,42,4],[47,10,42,8],[47,11,42,9,"Object"],[47,17,42,15],[47,18,42,16,"values"],[47,24,42,9],[47,25,42,23,"custom"],[47,31,42,9],[47,33,42,31,"every"],[47,38,42,9],[47,39,42,37],[47,49,42,47,"value"],[47,54,42,37],[47,56,42,54],[48,0,43,6],[48,15,43,13],[48,22,43,20,"value"],[48,27,43,13],[48,32,43,30],[48,40,43,13],[48,44,43,42],[48,51,43,49,"value"],[48,56,43,42],[48,61,43,59],[48,69,43,13],[48,73,43,71],[48,80,43,78,"value"],[48,85,43,71],[48,90,43,88],[48,99,43,6],[49,0,44,5],[49,7,42,9],[49,8,42,4],[49,10,44,8],[50,0,45,6],[50,15,45,13],[50,89,45,6],[51,0,46,5],[52,0,47,3],[53,0,48,1],[55,0,50,0],[55,11,50,9,"usePost"],[55,18,50,0],[55,21,50,19],[56,0,51,2],[56,11,51,9],[56,15,51,2],[57,0,52,1],[59,0,54,0],[59,11,54,9,"getURL"],[59,17,54,0],[59,18,54,16,"modules"],[59,25,54,0],[59,27,54,25],[60,0,55,2],[60,8,55,6,"config"],[60,14,55,12],[60,17,55,15,"modules"],[60,24,55,22],[60,25,55,23,"config"],[60,31,55,2],[61,0,56,2],[61,11,56,9],[61,26,56,24,"concat"],[61,32,56,9],[61,33,56,31,"config"],[61,39,56,37],[61,40,56,38,"subscribeKey"],[61,52,56,9],[61,54,56,52],[61,63,56,9],[61,64,56,2],[62,0,57,1],[64,0,59,0],[64,11,59,9,"postURL"],[64,18,59,0],[64,19,59,17,"modules"],[64,26,59,0],[64,28,59,26],[65,0,60,2],[65,8,60,6,"config"],[65,14,60,12],[65,17,60,15,"modules"],[65,24,60,22],[65,25,60,23,"config"],[65,31,60,2],[66,0,61,2],[66,11,61,9],[66,26,61,24,"concat"],[66,32,61,9],[66,33,61,31,"config"],[66,39,61,37],[66,40,61,38,"subscribeKey"],[66,52,61,9],[66,54,61,52],[66,63,61,9],[66,64,61,2],[67,0,62,1],[69,0,64,0],[69,11,64,9,"getRequestTimeout"],[69,28,64,0],[69,29,64,27,"_ref2"],[69,34,64,0],[69,36,64,34],[70,0,65,2],[70,8,65,6,"config"],[70,14,65,12],[70,17,65,15,"_ref2"],[70,22,65,20],[70,23,65,21,"config"],[70,29,65,2],[71,0,66,2],[71,11,66,9,"config"],[71,17,66,15],[71,18,66,16,"getTransactionTimeout"],[71,39,66,9],[71,41,66,2],[72,0,67,1],[74,0,69,0],[74,11,69,9,"isAuthSupported"],[74,26,69,0],[74,29,69,27],[75,0,70,2],[75,11,70,9],[75,15,70,2],[76,0,71,1],[78,0,73,0],[78,11,73,9,"getAuthToken"],[78,23,73,0],[78,24,73,22,"modules"],[78,31,73,0],[78,33,73,31,"incomingParams"],[78,47,73,0],[78,49,73,47],[79,0,74,2],[79,8,74,6,"token"],[79,13,74,11],[79,16,74,14,"modules"],[79,23,74,21],[79,24,74,22,"tokenManager"],[79,36,74,14],[79,37,74,35,"getToken"],[79,45,74,14],[79,46,74,44],[79,53,74,14],[79,55,74,53,"incomingParams"],[79,69,74,67],[79,70,74,68,"id"],[79,72,74,14],[79,77,74,75,"modules"],[79,84,74,82],[79,85,74,83,"tokenManager"],[79,97,74,75],[79,98,74,96,"getToken"],[79,106,74,75],[79,107,74,105],[79,114,74,75],[79,115,74,2],[80,0,75,2],[80,11,75,9,"token"],[80,16,75,2],[81,0,76,1],[83,0,78,0],[83,11,78,9,"prepareParams"],[83,24,78,0],[83,25,78,23,"modules"],[83,32,78,0],[83,34,78,32,"incomingParams"],[83,48,78,0],[83,50,78,48],[84,0,79,2],[84,8,79,6,"include"],[84,15,79,13],[84,18,79,16,"incomingParams"],[84,32,79,30],[84,33,79,31,"include"],[84,40,79,2],[85,0,80,2],[85,8,80,6,"params"],[85,14,80,12],[85,17,80,15],[85,19,80,2],[87,0,82,2],[87,8,82,6],[87,9,82,7,"include"],[87,16,82,2],[87,18,82,16],[88,0,83,4,"include"],[88,6,83,4,"include"],[88,13,83,11],[88,16,83,14],[89,0,84,6,"customFields"],[89,8,84,6,"customFields"],[89,20,84,18],[89,22,84,20],[90,0,83,14],[90,7,83,4],[91,0,86,3],[91,5,82,2],[91,11,86,9],[91,15,86,13,"include"],[91,22,86,20],[91,23,86,21,"customFields"],[91,35,86,13],[91,40,86,38,"undefined"],[91,49,86,9],[91,51,86,49],[92,0,87,4,"include"],[92,6,87,4,"include"],[92,13,87,11],[92,14,87,12,"customFields"],[92,26,87,4],[92,29,87,27],[92,33,87,4],[93,0,88,3],[95,0,90,2],[95,8,90,6,"include"],[95,15,90,2],[95,17,90,15],[96,0,91,4],[96,10,91,8,"includes"],[96,18,91,16],[96,21,91,19],[96,23,91,4],[98,0,93,4],[98,10,93,8,"include"],[98,17,93,15],[98,18,93,16,"customFields"],[98,30,93,4],[98,32,93,30],[99,0,94,6,"includes"],[99,8,94,6,"includes"],[99,16,94,14],[99,17,94,15,"push"],[99,21,94,6],[99,22,94,20],[99,30,94,6],[100,0,95,5],[102,0,97,4],[102,10,97,8,"includesString"],[102,24,97,22],[102,27,97,25,"includes"],[102,35,97,33],[102,36,97,34,"join"],[102,40,97,25],[102,41,97,39],[102,44,97,25],[102,45,97,4],[104,0,99,4],[104,10,99,8,"includesString"],[104,24,99,22],[104,25,99,23,"length"],[104,31,99,8],[104,34,99,32],[104,35,99,4],[104,37,99,35],[105,0,100,6,"params"],[105,8,100,6,"params"],[105,14,100,12],[105,15,100,13,"include"],[105,22,100,6],[105,25,100,23,"includesString"],[105,39,100,6],[106,0,101,5],[107,0,102,3],[109,0,104,2],[109,11,104,9,"params"],[109,17,104,2],[110,0,105,1],[112,0,107,0],[112,11,107,9,"postPayload"],[112,22,107,0],[112,23,107,21,"modules"],[112,30,107,0],[112,32,107,30,"incomingParams"],[112,46,107,0],[112,48,107,46],[113,0,108,2],[113,11,108,9,"prepareMessagePayload"],[113,32,108,30],[113,33,108,31,"modules"],[113,40,108,30],[113,42,108,40,"incomingParams"],[113,56,108,30],[113,57,108,2],[114,0,109,1],[116,0,111,0],[116,11,111,9,"handleResponse"],[116,25,111,0],[116,26,111,24,"modules"],[116,33,111,0],[116,35,111,33,"spacesResponse"],[116,49,111,0],[116,51,111,49],[117,0,112,2],[117,11,112,9,"spacesResponse"],[117,25,112,2],[118,0,113,1]],"functionMap":{"names":["<global>","_interopRequireDefault","prepareMessagePayload","getOperation","validateParams","Object.values.every$argument_0","usePost","getURL","postURL","getRequestTimeout","isAuthSupported","getAuthToken","prepareParams","postPayload","handleResponse"],"mappings":"AAA;ACqB,iGD;AEE;CFE;AGE;CHE;AIE;qCCU;KDE;CJI;AME;CNE;AOE;CPG;AQE;CRG;ASE;CTG;AUE;CVE;AWE;CXG;AYE;CZ2B;AaE;CbE;AcE;CdE"}},"type":"js/module"}]}