{"dependencies":[{"name":"../../constants/operations","data":{"isAsync":false}},{"name":"../../utils","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getOperation = getOperation;\n  exports.validateParams = validateParams;\n  exports.getURL = getURL;\n  exports.getRequestTimeout = getRequestTimeout;\n  exports.isAuthSupported = isAuthSupported;\n  exports.prepareParams = prepareParams;\n  exports.handleResponse = handleResponse;\n\n  var _operations = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[0], \"../../constants/operations\"));\n\n  var _utils = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"../../utils\"));\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      \"default\": obj\n    };\n  }\n\n  function _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n  }\n\n  function _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n  }\n\n  function _iterableToArrayLimit(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[typeof Symbol === \"function\" ? Symbol.iterator : \"@@iterator\"](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  function getOperation() {\n    return _operations[\"default\"].PNMessageCounts;\n  }\n\n  function validateParams(modules, incomingParams) {\n    var channels = incomingParams.channels,\n        timetoken = incomingParams.timetoken,\n        channelTimetokens = incomingParams.channelTimetokens;\n    var config = modules.config;\n    if (!channels) return 'Missing channel';\n    if (timetoken && channelTimetokens) return 'timetoken and channelTimetokens are incompatible together';\n    if (timetoken && channelTimetokens && channelTimetokens.length > 1 && channels.length !== channelTimetokens.length) return 'Length of channelTimetokens and channels do not match';\n    if (!config.subscribeKey) return 'Missing Subscribe Key';\n  }\n\n  function getURL(modules, incomingParams) {\n    var channels = incomingParams.channels;\n    var config = modules.config;\n    var stringifiedChannels = channels.join(',');\n    return \"/v3/history/sub-key/\".concat(config.subscribeKey, \"/message-counts/\").concat(_utils[\"default\"].encodeString(stringifiedChannels));\n  }\n\n  function getRequestTimeout(_ref) {\n    var config = _ref.config;\n    return config.getTransactionTimeout();\n  }\n\n  function isAuthSupported() {\n    return true;\n  }\n\n  function prepareParams(modules, incomingParams) {\n    var timetoken = incomingParams.timetoken,\n        channelTimetokens = incomingParams.channelTimetokens;\n    var outgoingParams = {};\n\n    if (channelTimetokens && channelTimetokens.length === 1) {\n      var _channelTimetokens = _slicedToArray(channelTimetokens, 1),\n          tt = _channelTimetokens[0];\n\n      outgoingParams.timetoken = tt;\n    } else if (channelTimetokens) {\n      outgoingParams.channelsTimetoken = channelTimetokens.join(',');\n    } else if (timetoken) {\n      outgoingParams.timetoken = timetoken;\n    }\n\n    return outgoingParams;\n  }\n\n  function handleResponse(modules, serverResponse) {\n    return {\n      channels: serverResponse.channels\n    };\n  }\n});","lineCount":118,"map":[[2,0,1,0],[4,0,3,0,"Object"],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,0],[4,24,3,22,"exports"],[4,31,3,0],[4,33,3,31],[4,45,3,0],[4,47,3,45],[5,0,4,2,"value"],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,0,3,45],[6,3,3,0],[7,0,6,0,"exports"],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"getOperation"],[7,22,6,0],[7,25,6,23,"getOperation"],[7,37,6,0],[8,0,7,0,"exports"],[8,2,7,0,"exports"],[8,9,7,7],[8,10,7,8,"validateParams"],[8,24,7,0],[8,27,7,25,"validateParams"],[8,41,7,0],[9,0,8,0,"exports"],[9,2,8,0,"exports"],[9,9,8,7],[9,10,8,8,"getURL"],[9,16,8,0],[9,19,8,17,"getURL"],[9,25,8,0],[10,0,9,0,"exports"],[10,2,9,0,"exports"],[10,9,9,7],[10,10,9,8,"getRequestTimeout"],[10,27,9,0],[10,30,9,28,"getRequestTimeout"],[10,47,9,0],[11,0,10,0,"exports"],[11,2,10,0,"exports"],[11,9,10,7],[11,10,10,8,"isAuthSupported"],[11,25,10,0],[11,28,10,26,"isAuthSupported"],[11,43,10,0],[12,0,11,0,"exports"],[12,2,11,0,"exports"],[12,9,11,7],[12,10,11,8,"prepareParams"],[12,23,11,0],[12,26,11,24,"prepareParams"],[12,39,11,0],[13,0,12,0,"exports"],[13,2,12,0,"exports"],[13,9,12,7],[13,10,12,8,"handleResponse"],[13,24,12,0],[13,27,12,25,"handleResponse"],[13,41,12,0],[15,0,14,0],[15,6,14,4,"_operations"],[15,17,14,15],[15,20,14,18,"_interopRequireDefault"],[15,42,14,40],[15,43,14,41,"require"],[15,54,14,48],[15,103,14,40],[15,104,14,0],[17,0,16,0],[17,6,16,4,"_utils"],[17,12,16,10],[17,15,16,13,"_interopRequireDefault"],[17,37,16,35],[17,38,16,36,"require"],[17,49,16,43],[17,83,16,35],[17,84,16,0],[19,0,18,0],[19,11,18,9,"_interopRequireDefault"],[19,33,18,0],[19,34,18,32,"obj"],[19,37,18,0],[19,39,18,37],[20,0,18,39],[20,11,18,46,"obj"],[20,14,18,49],[20,18,18,53,"obj"],[20,21,18,56],[20,22,18,57,"__esModule"],[20,32,18,46],[20,35,18,70,"obj"],[20,38,18,46],[20,41,18,76],[21,0,18,78],[21,17,18,89,"obj"],[22,0,18,76],[22,5,18,39],[23,0,18,97],[25,0,20,0],[25,11,20,9,"_slicedToArray"],[25,25,20,0],[25,26,20,24,"arr"],[25,29,20,0],[25,31,20,29,"i"],[25,32,20,0],[25,34,20,32],[26,0,20,34],[26,11,20,41,"_arrayWithHoles"],[26,26,20,56],[26,27,20,57,"arr"],[26,30,20,56],[26,31,20,41],[26,35,20,65,"_iterableToArrayLimit"],[26,56,20,86],[26,57,20,87,"arr"],[26,60,20,86],[26,62,20,92,"i"],[26,63,20,86],[26,64,20,41],[26,68,20,98,"_nonIterableRest"],[26,84,20,114],[26,86,20,34],[27,0,20,119],[29,0,22,0],[29,11,22,9,"_nonIterableRest"],[29,27,22,0],[29,30,22,28],[30,0,22,30],[30,10,22,36],[30,14,22,40,"TypeError"],[30,23,22,36],[30,24,22,50],[30,78,22,36],[30,79,22,30],[31,0,22,108],[33,0,24,0],[33,11,24,9,"_iterableToArrayLimit"],[33,32,24,0],[33,33,24,31,"arr"],[33,36,24,0],[33,38,24,36,"i"],[33,39,24,0],[33,41,24,39],[34,0,24,41],[34,8,24,45,"_arr"],[34,12,24,49],[34,15,24,52],[34,17,24,41],[35,0,24,56],[35,8,24,60,"_n"],[35,10,24,62],[35,13,24,65],[35,17,24,56],[36,0,24,71],[36,8,24,75,"_d"],[36,10,24,77],[36,13,24,80],[36,18,24,71],[37,0,24,87],[37,8,24,91,"_e"],[37,10,24,93],[37,13,24,96,"undefined"],[37,22,24,87],[39,0,24,107],[39,8,24,111],[40,0,24,113],[40,11,24,118],[40,15,24,122,"_i"],[40,17,24,124],[40,20,24,127,"arr"],[40,23,24,130],[40,55,24,131,"Symbol"],[40,61,24,137],[40,62,24,138,"iterator"],[40,70,24,130],[40,86,24,127],[40,88,24,118],[40,90,24,151,"_s"],[40,92,24,113],[40,94,24,155],[40,96,24,157,"_n"],[40,98,24,159],[40,101,24,162],[40,102,24,163,"_s"],[40,104,24,165],[40,107,24,168,"_i"],[40,109,24,170],[40,110,24,171,"next"],[40,114,24,168],[40,116,24,162],[40,118,24,179,"done"],[40,122,24,155],[40,123,24,113],[40,125,24,186,"_n"],[40,127,24,188],[40,130,24,191],[40,134,24,113],[40,136,24,197],[41,0,24,199,"_arr"],[41,8,24,199,"_arr"],[41,12,24,203],[41,13,24,204,"push"],[41,17,24,199],[41,18,24,209,"_s"],[41,20,24,211],[41,21,24,212,"value"],[41,26,24,199],[43,0,24,220],[43,12,24,224,"i"],[43,13,24,225],[43,17,24,229,"_arr"],[43,21,24,233],[43,22,24,234,"length"],[43,28,24,229],[43,33,24,245,"i"],[43,34,24,220],[43,36,24,248],[44,0,24,256],[45,0,24,258],[45,5,24,107],[45,6,24,259],[45,13,24,266,"err"],[45,16,24,259],[45,18,24,271],[46,0,24,273,"_d"],[46,6,24,273,"_d"],[46,8,24,275],[46,11,24,278],[46,15,24,273],[47,0,24,284,"_e"],[47,6,24,284,"_e"],[47,8,24,286],[47,11,24,289,"err"],[47,14,24,284],[48,0,24,295],[48,5,24,107],[48,14,24,304],[49,0,24,306],[49,10,24,310],[50,0,24,312],[50,12,24,316],[50,13,24,317,"_n"],[50,15,24,316],[50,19,24,323,"_i"],[50,21,24,325],[50,22,24,326],[50,30,24,325],[50,31,24,323],[50,35,24,339],[50,39,24,312],[50,41,24,345,"_i"],[50,43,24,347],[50,44,24,348],[50,52,24,347],[50,53,24,345],[51,0,24,362],[51,7,24,306],[51,16,24,371],[52,0,24,373],[52,12,24,377,"_d"],[52,14,24,373],[52,16,24,381],[52,22,24,387,"_e"],[52,24,24,381],[53,0,24,392],[54,0,24,394],[56,0,24,395],[56,11,24,402,"_arr"],[56,15,24,395],[57,0,24,409],[59,0,26,0],[59,11,26,9,"_arrayWithHoles"],[59,26,26,0],[59,27,26,25,"arr"],[59,30,26,0],[59,32,26,30],[60,0,26,32],[60,8,26,36,"Array"],[60,13,26,41],[60,14,26,42,"isArray"],[60,21,26,36],[60,22,26,50,"arr"],[60,25,26,36],[60,26,26,32],[60,28,26,56],[60,35,26,63,"arr"],[60,38,26,56],[61,0,26,69],[63,0,28,0],[63,11,28,9,"getOperation"],[63,23,28,0],[63,26,28,24],[64,0,29,2],[64,11,29,9,"_operations"],[64,22,29,20],[64,23,29,21],[64,32,29,20],[64,33,29,9],[64,34,29,32,"PNMessageCounts"],[64,49,29,2],[65,0,30,1],[67,0,32,0],[67,11,32,9,"validateParams"],[67,25,32,0],[67,26,32,24,"modules"],[67,33,32,0],[67,35,32,33,"incomingParams"],[67,49,32,0],[67,51,32,49],[68,0,33,2],[68,8,33,6,"channels"],[68,16,33,14],[68,19,33,17,"incomingParams"],[68,33,33,31],[68,34,33,32,"channels"],[68,42,33,2],[69,0,33,2],[69,8,34,6,"timetoken"],[69,17,34,15],[69,20,34,18,"incomingParams"],[69,34,34,32],[69,35,34,33,"timetoken"],[69,44,33,2],[70,0,33,2],[70,8,35,6,"channelTimetokens"],[70,25,35,23],[70,28,35,26,"incomingParams"],[70,42,35,40],[70,43,35,41,"channelTimetokens"],[70,60,33,2],[71,0,36,2],[71,8,36,6,"config"],[71,14,36,12],[71,17,36,15,"modules"],[71,24,36,22],[71,25,36,23,"config"],[71,31,36,2],[72,0,37,2],[72,8,37,6],[72,9,37,7,"channels"],[72,17,37,2],[72,19,37,17],[72,26,37,24],[72,43,37,17],[73,0,38,2],[73,8,38,6,"timetoken"],[73,17,38,15],[73,21,38,19,"channelTimetokens"],[73,38,38,2],[73,40,38,38],[73,47,38,45],[73,106,38,38],[74,0,39,2],[74,8,39,6,"timetoken"],[74,17,39,15],[74,21,39,19,"channelTimetokens"],[74,38,39,6],[74,42,39,40,"channelTimetokens"],[74,59,39,57],[74,60,39,58,"length"],[74,66,39,40],[74,69,39,67],[74,70,39,6],[74,74,39,72,"channels"],[74,82,39,80],[74,83,39,81,"length"],[74,89,39,72],[74,94,39,92,"channelTimetokens"],[74,111,39,109],[74,112,39,110,"length"],[74,118,39,2],[74,120,39,118],[74,127,39,125],[74,182,39,118],[75,0,40,2],[75,8,40,6],[75,9,40,7,"config"],[75,15,40,13],[75,16,40,14,"subscribeKey"],[75,28,40,2],[75,30,40,28],[75,37,40,35],[75,60,40,28],[76,0,41,1],[78,0,43,0],[78,11,43,9,"getURL"],[78,17,43,0],[78,18,43,16,"modules"],[78,25,43,0],[78,27,43,25,"incomingParams"],[78,41,43,0],[78,43,43,41],[79,0,44,2],[79,8,44,6,"channels"],[79,16,44,14],[79,19,44,17,"incomingParams"],[79,33,44,31],[79,34,44,32,"channels"],[79,42,44,2],[80,0,45,2],[80,8,45,6,"config"],[80,14,45,12],[80,17,45,15,"modules"],[80,24,45,22],[80,25,45,23,"config"],[80,31,45,2],[81,0,46,2],[81,8,46,6,"stringifiedChannels"],[81,27,46,25],[81,30,46,28,"channels"],[81,38,46,36],[81,39,46,37,"join"],[81,43,46,28],[81,44,46,42],[81,47,46,28],[81,48,46,2],[82,0,47,2],[82,11,47,9],[82,34,47,32,"concat"],[82,40,47,9],[82,41,47,39,"config"],[82,47,47,45],[82,48,47,46,"subscribeKey"],[82,60,47,9],[82,62,47,60],[82,80,47,9],[82,82,47,80,"concat"],[82,88,47,9],[82,89,47,87,"_utils"],[82,95,47,93],[82,96,47,94],[82,105,47,93],[82,106,47,87],[82,107,47,105,"encodeString"],[82,119,47,87],[82,120,47,118,"stringifiedChannels"],[82,139,47,87],[82,140,47,9],[82,141,47,2],[83,0,48,1],[85,0,50,0],[85,11,50,9,"getRequestTimeout"],[85,28,50,0],[85,29,50,27,"_ref"],[85,33,50,0],[85,35,50,33],[86,0,51,2],[86,8,51,6,"config"],[86,14,51,12],[86,17,51,15,"_ref"],[86,21,51,19],[86,22,51,20,"config"],[86,28,51,2],[87,0,52,2],[87,11,52,9,"config"],[87,17,52,15],[87,18,52,16,"getTransactionTimeout"],[87,39,52,9],[87,41,52,2],[88,0,53,1],[90,0,55,0],[90,11,55,9,"isAuthSupported"],[90,26,55,0],[90,29,55,27],[91,0,56,2],[91,11,56,9],[91,15,56,2],[92,0,57,1],[94,0,59,0],[94,11,59,9,"prepareParams"],[94,24,59,0],[94,25,59,23,"modules"],[94,32,59,0],[94,34,59,32,"incomingParams"],[94,48,59,0],[94,50,59,48],[95,0,60,2],[95,8,60,6,"timetoken"],[95,17,60,15],[95,20,60,18,"incomingParams"],[95,34,60,32],[95,35,60,33,"timetoken"],[95,44,60,2],[96,0,60,2],[96,8,61,6,"channelTimetokens"],[96,25,61,23],[96,28,61,26,"incomingParams"],[96,42,61,40],[96,43,61,41,"channelTimetokens"],[96,60,60,2],[97,0,62,2],[97,8,62,6,"outgoingParams"],[97,22,62,20],[97,25,62,23],[97,27,62,2],[99,0,64,2],[99,8,64,6,"channelTimetokens"],[99,25,64,23],[99,29,64,27,"channelTimetokens"],[99,46,64,44],[99,47,64,45,"length"],[99,53,64,27],[99,58,64,56],[99,59,64,2],[99,61,64,59],[100,0,65,4],[100,10,65,8,"_channelTimetokens"],[100,28,65,26],[100,31,65,29,"_slicedToArray"],[100,45,65,43],[100,46,65,44,"channelTimetokens"],[100,63,65,43],[100,65,65,63],[100,66,65,43],[100,67,65,4],[101,0,65,4],[101,10,66,8,"tt"],[101,12,66,10],[101,15,66,13,"_channelTimetokens"],[101,33,66,31],[101,34,66,32],[101,35,66,31],[101,36,65,4],[103,0,68,4,"outgoingParams"],[103,6,68,4,"outgoingParams"],[103,20,68,18],[103,21,68,19,"timetoken"],[103,30,68,4],[103,33,68,31,"tt"],[103,35,68,4],[104,0,69,3],[104,5,64,2],[104,11,69,9],[104,15,69,13,"channelTimetokens"],[104,32,69,9],[104,34,69,32],[105,0,70,4,"outgoingParams"],[105,6,70,4,"outgoingParams"],[105,20,70,18],[105,21,70,19,"channelsTimetoken"],[105,38,70,4],[105,41,70,39,"channelTimetokens"],[105,58,70,56],[105,59,70,57,"join"],[105,63,70,39],[105,64,70,62],[105,67,70,39],[105,68,70,4],[106,0,71,3],[106,5,69,9],[106,11,71,9],[106,15,71,13,"timetoken"],[106,24,71,9],[106,26,71,24],[107,0,72,4,"outgoingParams"],[107,6,72,4,"outgoingParams"],[107,20,72,18],[107,21,72,19,"timetoken"],[107,30,72,4],[107,33,72,31,"timetoken"],[107,42,72,4],[108,0,73,3],[110,0,75,2],[110,11,75,9,"outgoingParams"],[110,25,75,2],[111,0,76,1],[113,0,78,0],[113,11,78,9,"handleResponse"],[113,25,78,0],[113,26,78,24,"modules"],[113,33,78,0],[113,35,78,33,"serverResponse"],[113,49,78,0],[113,51,78,49],[114,0,79,2],[114,11,79,9],[115,0,80,4,"channels"],[115,6,80,4,"channels"],[115,14,80,12],[115,16,80,14,"serverResponse"],[115,30,80,28],[115,31,80,29,"channels"],[116,0,79,9],[116,5,79,2],[117,0,82,1]],"functionMap":{"names":["<global>","_interopRequireDefault","_slicedToArray","_nonIterableRest","_iterableToArrayLimit","_arrayWithHoles","getOperation","validateParams","getURL","getRequestTimeout","isAuthSupported","prepareParams","handleResponse"],"mappings":"AAA;ACiB,iGD;AEE,uHF;AGE,4GH;AIE,yZJ;AKE,qEL;AME;CNE;AOE;CPS;AQE;CRK;ASE;CTG;AUE;CVE;AWE;CXiB;AYE;CZI"}},"type":"js/module"}]}