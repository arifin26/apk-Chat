{"dependencies":[{"name":"../../flow_interfaces","data":{"isAsync":false}},{"name":"../../constants/operations","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getOperation = getOperation;\n  exports.validateParams = validateParams;\n  exports.getURL = getURL;\n  exports.getRequestTimeout = getRequestTimeout;\n  exports.isAuthSupported = isAuthSupported;\n  exports.getAuthToken = getAuthToken;\n  exports.prepareParams = prepareParams;\n  exports.handleResponse = handleResponse;\n\n  var _flow_interfaces = _$$_REQUIRE(_dependencyMap[0], \"../../flow_interfaces\");\n\n  var _operations = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"../../constants/operations\"));\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      \"default\": obj\n    };\n  }\n\n  function getOperation() {\n    return _operations[\"default\"].PNGetMembershipsOperation;\n  }\n\n  function validateParams(modules, incomingParams) {\n    var userId = incomingParams.userId;\n    if (!userId) return 'Missing userId';\n  }\n\n  function getURL(modules, incomingParams) {\n    var config = modules.config;\n    return \"/v1/objects/\".concat(config.subscribeKey, \"/users/\").concat(incomingParams.userId, \"/spaces\");\n  }\n\n  function getRequestTimeout(_ref) {\n    var config = _ref.config;\n    return config.getTransactionTimeout();\n  }\n\n  function isAuthSupported() {\n    return true;\n  }\n\n  function getAuthToken(modules, incomingParams) {\n    var token = modules.tokenManager.getToken('user', incomingParams.userId) || modules.tokenManager.getToken('user');\n    return token;\n  }\n\n  function prepareParams(modules, incomingParams) {\n    var include = incomingParams.include,\n        limit = incomingParams.limit,\n        page = incomingParams.page;\n    var params = {};\n\n    if (limit) {\n      params.limit = limit;\n    }\n\n    if (include) {\n      var includes = [];\n\n      if (include.totalCount) {\n        params.count = true;\n      }\n\n      if (include.customFields) {\n        includes.push('custom');\n      }\n\n      if (include.spaceFields) {\n        includes.push('space');\n      }\n\n      if (include.customSpaceFields) {\n        includes.push('space.custom');\n      }\n\n      var includesString = includes.join(',');\n\n      if (includesString.length > 0) {\n        params.include = includesString;\n      }\n    }\n\n    if (page) {\n      if (page.next) {\n        params.start = page.next;\n      }\n\n      if (page.prev) {\n        params.end = page.prev;\n      }\n    }\n\n    return params;\n  }\n\n  function handleResponse(modules, membershipsResponse) {\n    return membershipsResponse;\n  }\n});","lineCount":106,"map":[[2,0,1,0],[4,0,3,0,"Object"],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,0],[4,24,3,22,"exports"],[4,31,3,0],[4,33,3,31],[4,45,3,0],[4,47,3,45],[5,0,4,2,"value"],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,0,3,45],[6,3,3,0],[7,0,6,0,"exports"],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"getOperation"],[7,22,6,0],[7,25,6,23,"getOperation"],[7,37,6,0],[8,0,7,0,"exports"],[8,2,7,0,"exports"],[8,9,7,7],[8,10,7,8,"validateParams"],[8,24,7,0],[8,27,7,25,"validateParams"],[8,41,7,0],[9,0,8,0,"exports"],[9,2,8,0,"exports"],[9,9,8,7],[9,10,8,8,"getURL"],[9,16,8,0],[9,19,8,17,"getURL"],[9,25,8,0],[10,0,9,0,"exports"],[10,2,9,0,"exports"],[10,9,9,7],[10,10,9,8,"getRequestTimeout"],[10,27,9,0],[10,30,9,28,"getRequestTimeout"],[10,47,9,0],[11,0,10,0,"exports"],[11,2,10,0,"exports"],[11,9,10,7],[11,10,10,8,"isAuthSupported"],[11,25,10,0],[11,28,10,26,"isAuthSupported"],[11,43,10,0],[12,0,11,0,"exports"],[12,2,11,0,"exports"],[12,9,11,7],[12,10,11,8,"getAuthToken"],[12,22,11,0],[12,25,11,23,"getAuthToken"],[12,37,11,0],[13,0,12,0,"exports"],[13,2,12,0,"exports"],[13,9,12,7],[13,10,12,8,"prepareParams"],[13,23,12,0],[13,26,12,24,"prepareParams"],[13,39,12,0],[14,0,13,0,"exports"],[14,2,13,0,"exports"],[14,9,13,7],[14,10,13,8,"handleResponse"],[14,24,13,0],[14,27,13,25,"handleResponse"],[14,41,13,0],[16,0,15,0],[16,6,15,4,"_flow_interfaces"],[16,22,15,20],[16,25,15,23,"require"],[16,36,15,30],[16,80,15,0],[18,0,17,0],[18,6,17,4,"_operations"],[18,17,17,15],[18,20,17,18,"_interopRequireDefault"],[18,42,17,40],[18,43,17,41,"require"],[18,54,17,48],[18,103,17,40],[18,104,17,0],[20,0,19,0],[20,11,19,9,"_interopRequireDefault"],[20,33,19,0],[20,34,19,32,"obj"],[20,37,19,0],[20,39,19,37],[21,0,19,39],[21,11,19,46,"obj"],[21,14,19,49],[21,18,19,53,"obj"],[21,21,19,56],[21,22,19,57,"__esModule"],[21,32,19,46],[21,35,19,70,"obj"],[21,38,19,46],[21,41,19,76],[22,0,19,78],[22,17,19,89,"obj"],[23,0,19,76],[23,5,19,39],[24,0,19,97],[26,0,21,0],[26,11,21,9,"getOperation"],[26,23,21,0],[26,26,21,24],[27,0,22,2],[27,11,22,9,"_operations"],[27,22,22,20],[27,23,22,21],[27,32,22,20],[27,33,22,9],[27,34,22,32,"PNGetMembershipsOperation"],[27,59,22,2],[28,0,23,1],[30,0,25,0],[30,11,25,9,"validateParams"],[30,25,25,0],[30,26,25,24,"modules"],[30,33,25,0],[30,35,25,33,"incomingParams"],[30,49,25,0],[30,51,25,49],[31,0,26,2],[31,8,26,6,"userId"],[31,14,26,12],[31,17,26,15,"incomingParams"],[31,31,26,29],[31,32,26,30,"userId"],[31,38,26,2],[32,0,27,2],[32,8,27,6],[32,9,27,7,"userId"],[32,15,27,2],[32,17,27,15],[32,24,27,22],[32,40,27,15],[33,0,28,1],[35,0,30,0],[35,11,30,9,"getURL"],[35,17,30,0],[35,18,30,16,"modules"],[35,25,30,0],[35,27,30,25,"incomingParams"],[35,41,30,0],[35,43,30,41],[36,0,31,2],[36,8,31,6,"config"],[36,14,31,12],[36,17,31,15,"modules"],[36,24,31,22],[36,25,31,23,"config"],[36,31,31,2],[37,0,32,2],[37,11,32,9],[37,26,32,24,"concat"],[37,32,32,9],[37,33,32,31,"config"],[37,39,32,37],[37,40,32,38,"subscribeKey"],[37,52,32,9],[37,54,32,52],[37,63,32,9],[37,65,32,63,"concat"],[37,71,32,9],[37,72,32,70,"incomingParams"],[37,86,32,84],[37,87,32,85,"userId"],[37,93,32,9],[37,95,32,93],[37,104,32,9],[37,105,32,2],[38,0,33,1],[40,0,35,0],[40,11,35,9,"getRequestTimeout"],[40,28,35,0],[40,29,35,27,"_ref"],[40,33,35,0],[40,35,35,33],[41,0,36,2],[41,8,36,6,"config"],[41,14,36,12],[41,17,36,15,"_ref"],[41,21,36,19],[41,22,36,20,"config"],[41,28,36,2],[42,0,37,2],[42,11,37,9,"config"],[42,17,37,15],[42,18,37,16,"getTransactionTimeout"],[42,39,37,9],[42,41,37,2],[43,0,38,1],[45,0,40,0],[45,11,40,9,"isAuthSupported"],[45,26,40,0],[45,29,40,27],[46,0,41,2],[46,11,41,9],[46,15,41,2],[47,0,42,1],[49,0,44,0],[49,11,44,9,"getAuthToken"],[49,23,44,0],[49,24,44,22,"modules"],[49,31,44,0],[49,33,44,31,"incomingParams"],[49,47,44,0],[49,49,44,47],[50,0,45,2],[50,8,45,6,"token"],[50,13,45,11],[50,16,45,14,"modules"],[50,23,45,21],[50,24,45,22,"tokenManager"],[50,36,45,14],[50,37,45,35,"getToken"],[50,45,45,14],[50,46,45,44],[50,52,45,14],[50,54,45,52,"incomingParams"],[50,68,45,66],[50,69,45,67,"userId"],[50,75,45,14],[50,80,45,78,"modules"],[50,87,45,85],[50,88,45,86,"tokenManager"],[50,100,45,78],[50,101,45,99,"getToken"],[50,109,45,78],[50,110,45,108],[50,116,45,78],[50,117,45,2],[51,0,46,2],[51,11,46,9,"token"],[51,16,46,2],[52,0,47,1],[54,0,49,0],[54,11,49,9,"prepareParams"],[54,24,49,0],[54,25,49,23,"modules"],[54,32,49,0],[54,34,49,32,"incomingParams"],[54,48,49,0],[54,50,49,48],[55,0,50,2],[55,8,50,6,"include"],[55,15,50,13],[55,18,50,16,"incomingParams"],[55,32,50,30],[55,33,50,31,"include"],[55,40,50,2],[56,0,50,2],[56,8,51,6,"limit"],[56,13,51,11],[56,16,51,14,"incomingParams"],[56,30,51,28],[56,31,51,29,"limit"],[56,36,50,2],[57,0,50,2],[57,8,52,6,"page"],[57,12,52,10],[57,15,52,13,"incomingParams"],[57,29,52,27],[57,30,52,28,"page"],[57,34,50,2],[58,0,53,2],[58,8,53,6,"params"],[58,14,53,12],[58,17,53,15],[58,19,53,2],[60,0,55,2],[60,8,55,6,"limit"],[60,13,55,2],[60,15,55,13],[61,0,56,4,"params"],[61,6,56,4,"params"],[61,12,56,10],[61,13,56,11,"limit"],[61,18,56,4],[61,21,56,19,"limit"],[61,26,56,4],[62,0,57,3],[64,0,59,2],[64,8,59,6,"include"],[64,15,59,2],[64,17,59,15],[65,0,60,4],[65,10,60,8,"includes"],[65,18,60,16],[65,21,60,19],[65,23,60,4],[67,0,62,4],[67,10,62,8,"include"],[67,17,62,15],[67,18,62,16,"totalCount"],[67,28,62,4],[67,30,62,28],[68,0,63,6,"params"],[68,8,63,6,"params"],[68,14,63,12],[68,15,63,13,"count"],[68,20,63,6],[68,23,63,21],[68,27,63,6],[69,0,64,5],[71,0,66,4],[71,10,66,8,"include"],[71,17,66,15],[71,18,66,16,"customFields"],[71,30,66,4],[71,32,66,30],[72,0,67,6,"includes"],[72,8,67,6,"includes"],[72,16,67,14],[72,17,67,15,"push"],[72,21,67,6],[72,22,67,20],[72,30,67,6],[73,0,68,5],[75,0,70,4],[75,10,70,8,"include"],[75,17,70,15],[75,18,70,16,"spaceFields"],[75,29,70,4],[75,31,70,29],[76,0,71,6,"includes"],[76,8,71,6,"includes"],[76,16,71,14],[76,17,71,15,"push"],[76,21,71,6],[76,22,71,20],[76,29,71,6],[77,0,72,5],[79,0,74,4],[79,10,74,8,"include"],[79,17,74,15],[79,18,74,16,"customSpaceFields"],[79,35,74,4],[79,37,74,35],[80,0,75,6,"includes"],[80,8,75,6,"includes"],[80,16,75,14],[80,17,75,15,"push"],[80,21,75,6],[80,22,75,20],[80,36,75,6],[81,0,76,5],[83,0,78,4],[83,10,78,8,"includesString"],[83,24,78,22],[83,27,78,25,"includes"],[83,35,78,33],[83,36,78,34,"join"],[83,40,78,25],[83,41,78,39],[83,44,78,25],[83,45,78,4],[85,0,80,4],[85,10,80,8,"includesString"],[85,24,80,22],[85,25,80,23,"length"],[85,31,80,8],[85,34,80,32],[85,35,80,4],[85,37,80,35],[86,0,81,6,"params"],[86,8,81,6,"params"],[86,14,81,12],[86,15,81,13,"include"],[86,22,81,6],[86,25,81,23,"includesString"],[86,39,81,6],[87,0,82,5],[88,0,83,3],[90,0,85,2],[90,8,85,6,"page"],[90,12,85,2],[90,14,85,12],[91,0,86,4],[91,10,86,8,"page"],[91,14,86,12],[91,15,86,13,"next"],[91,19,86,4],[91,21,86,19],[92,0,87,6,"params"],[92,8,87,6,"params"],[92,14,87,12],[92,15,87,13,"start"],[92,20,87,6],[92,23,87,21,"page"],[92,27,87,25],[92,28,87,26,"next"],[92,32,87,6],[93,0,88,5],[95,0,90,4],[95,10,90,8,"page"],[95,14,90,12],[95,15,90,13,"prev"],[95,19,90,4],[95,21,90,19],[96,0,91,6,"params"],[96,8,91,6,"params"],[96,14,91,12],[96,15,91,13,"end"],[96,18,91,6],[96,21,91,19,"page"],[96,25,91,23],[96,26,91,24,"prev"],[96,30,91,6],[97,0,92,5],[98,0,93,3],[100,0,95,2],[100,11,95,9,"params"],[100,17,95,2],[101,0,96,1],[103,0,98,0],[103,11,98,9,"handleResponse"],[103,25,98,0],[103,26,98,24,"modules"],[103,33,98,0],[103,35,98,33,"membershipsResponse"],[103,54,98,0],[103,56,98,54],[104,0,99,2],[104,11,99,9,"membershipsResponse"],[104,30,99,2],[105,0,100,1]],"functionMap":{"names":["<global>","_interopRequireDefault","getOperation","validateParams","getURL","getRequestTimeout","isAuthSupported","getAuthToken","prepareParams","handleResponse"],"mappings":"AAA;ACkB,iGD;AEE;CFE;AGE;CHG;AIE;CJG;AKE;CLG;AME;CNE;AOE;CPG;AQE;CR+C;ASE;CTE"}},"type":"js/module"}]}