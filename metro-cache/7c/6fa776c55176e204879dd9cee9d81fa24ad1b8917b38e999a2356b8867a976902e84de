{"dependencies":[{"name":"../flow_interfaces","data":{"isAsync":false}},{"name":"../constants/operations","data":{"isAsync":false}},{"name":"../utils","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.getOperation = getOperation;\n  exports.validateParams = validateParams;\n  exports.getURL = getURL;\n  exports.getRequestTimeout = getRequestTimeout;\n  exports.isAuthSupported = isAuthSupported;\n  exports.prepareParams = prepareParams;\n  exports.handleResponse = handleResponse;\n\n  var _flow_interfaces = _$$_REQUIRE(_dependencyMap[0], \"../flow_interfaces\");\n\n  var _operations = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"../constants/operations\"));\n\n  var _utils = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"../utils\"));\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      \"default\": obj\n    };\n  }\n\n  function prepareMessagePayload(modules, messagePayload) {\n    var stringifiedPayload = JSON.stringify(messagePayload);\n    return stringifiedPayload;\n  }\n\n  function getOperation() {\n    return _operations[\"default\"].PNSignalOperation;\n  }\n\n  function validateParams(_ref, incomingParams) {\n    var config = _ref.config;\n    var message = incomingParams.message,\n        channel = incomingParams.channel;\n    if (!channel) return 'Missing Channel';\n    if (!message) return 'Missing Message';\n    if (!config.subscribeKey) return 'Missing Subscribe Key';\n  }\n\n  function getURL(modules, incomingParams) {\n    var config = modules.config;\n    var channel = incomingParams.channel,\n        message = incomingParams.message;\n    var stringifiedPayload = prepareMessagePayload(modules, message);\n    return \"/signal/\".concat(config.publishKey, \"/\").concat(config.subscribeKey, \"/0/\").concat(_utils[\"default\"].encodeString(channel), \"/0/\").concat(_utils[\"default\"].encodeString(stringifiedPayload));\n  }\n\n  function getRequestTimeout(_ref2) {\n    var config = _ref2.config;\n    return config.getTransactionTimeout();\n  }\n\n  function isAuthSupported() {\n    return true;\n  }\n\n  function prepareParams() {\n    var params = {};\n    return params;\n  }\n\n  function handleResponse(modules, serverResponse) {\n    return {\n      timetoken: serverResponse[2]\n    };\n  }\n});","lineCount":72,"map":[[2,0,1,0],[4,0,3,0,"Object"],[4,2,3,0,"Object"],[4,8,3,6],[4,9,3,7,"defineProperty"],[4,23,3,0],[4,24,3,22,"exports"],[4,31,3,0],[4,33,3,31],[4,45,3,0],[4,47,3,45],[5,0,4,2,"value"],[5,4,4,2,"value"],[5,9,4,7],[5,11,4,9],[6,0,3,45],[6,3,3,0],[7,0,6,0,"exports"],[7,2,6,0,"exports"],[7,9,6,7],[7,10,6,8,"getOperation"],[7,22,6,0],[7,25,6,23,"getOperation"],[7,37,6,0],[8,0,7,0,"exports"],[8,2,7,0,"exports"],[8,9,7,7],[8,10,7,8,"validateParams"],[8,24,7,0],[8,27,7,25,"validateParams"],[8,41,7,0],[9,0,8,0,"exports"],[9,2,8,0,"exports"],[9,9,8,7],[9,10,8,8,"getURL"],[9,16,8,0],[9,19,8,17,"getURL"],[9,25,8,0],[10,0,9,0,"exports"],[10,2,9,0,"exports"],[10,9,9,7],[10,10,9,8,"getRequestTimeout"],[10,27,9,0],[10,30,9,28,"getRequestTimeout"],[10,47,9,0],[11,0,10,0,"exports"],[11,2,10,0,"exports"],[11,9,10,7],[11,10,10,8,"isAuthSupported"],[11,25,10,0],[11,28,10,26,"isAuthSupported"],[11,43,10,0],[12,0,11,0,"exports"],[12,2,11,0,"exports"],[12,9,11,7],[12,10,11,8,"prepareParams"],[12,23,11,0],[12,26,11,24,"prepareParams"],[12,39,11,0],[13,0,12,0,"exports"],[13,2,12,0,"exports"],[13,9,12,7],[13,10,12,8,"handleResponse"],[13,24,12,0],[13,27,12,25,"handleResponse"],[13,41,12,0],[15,0,14,0],[15,6,14,4,"_flow_interfaces"],[15,22,14,20],[15,25,14,23,"require"],[15,36,14,30],[15,77,14,0],[17,0,16,0],[17,6,16,4,"_operations"],[17,17,16,15],[17,20,16,18,"_interopRequireDefault"],[17,42,16,40],[17,43,16,41,"require"],[17,54,16,48],[17,100,16,40],[17,101,16,0],[19,0,18,0],[19,6,18,4,"_utils"],[19,12,18,10],[19,15,18,13,"_interopRequireDefault"],[19,37,18,35],[19,38,18,36,"require"],[19,49,18,43],[19,80,18,35],[19,81,18,0],[21,0,20,0],[21,11,20,9,"_interopRequireDefault"],[21,33,20,0],[21,34,20,32,"obj"],[21,37,20,0],[21,39,20,37],[22,0,20,39],[22,11,20,46,"obj"],[22,14,20,49],[22,18,20,53,"obj"],[22,21,20,56],[22,22,20,57,"__esModule"],[22,32,20,46],[22,35,20,70,"obj"],[22,38,20,46],[22,41,20,76],[23,0,20,78],[23,17,20,89,"obj"],[24,0,20,76],[24,5,20,39],[25,0,20,97],[27,0,22,0],[27,11,22,9,"prepareMessagePayload"],[27,32,22,0],[27,33,22,31,"modules"],[27,40,22,0],[27,42,22,40,"messagePayload"],[27,56,22,0],[27,58,22,56],[28,0,23,2],[28,8,23,6,"stringifiedPayload"],[28,26,23,24],[28,29,23,27,"JSON"],[28,33,23,31],[28,34,23,32,"stringify"],[28,43,23,27],[28,44,23,42,"messagePayload"],[28,58,23,27],[28,59,23,2],[29,0,24,2],[29,11,24,9,"stringifiedPayload"],[29,29,24,2],[30,0,25,1],[32,0,27,0],[32,11,27,9,"getOperation"],[32,23,27,0],[32,26,27,24],[33,0,28,2],[33,11,28,9,"_operations"],[33,22,28,20],[33,23,28,21],[33,32,28,20],[33,33,28,9],[33,34,28,32,"PNSignalOperation"],[33,51,28,2],[34,0,29,1],[36,0,31,0],[36,11,31,9,"validateParams"],[36,25,31,0],[36,26,31,24,"_ref"],[36,30,31,0],[36,32,31,30,"incomingParams"],[36,46,31,0],[36,48,31,46],[37,0,32,2],[37,8,32,6,"config"],[37,14,32,12],[37,17,32,15,"_ref"],[37,21,32,19],[37,22,32,20,"config"],[37,28,32,2],[38,0,33,2],[38,8,33,6,"message"],[38,15,33,13],[38,18,33,16,"incomingParams"],[38,32,33,30],[38,33,33,31,"message"],[38,40,33,2],[39,0,33,2],[39,8,34,6,"channel"],[39,15,34,13],[39,18,34,16,"incomingParams"],[39,32,34,30],[39,33,34,31,"channel"],[39,40,33,2],[40,0,35,2],[40,8,35,6],[40,9,35,7,"channel"],[40,16,35,2],[40,18,35,16],[40,25,35,23],[40,42,35,16],[41,0,36,2],[41,8,36,6],[41,9,36,7,"message"],[41,16,36,2],[41,18,36,16],[41,25,36,23],[41,42,36,16],[42,0,37,2],[42,8,37,6],[42,9,37,7,"config"],[42,15,37,13],[42,16,37,14,"subscribeKey"],[42,28,37,2],[42,30,37,28],[42,37,37,35],[42,60,37,28],[43,0,38,1],[45,0,40,0],[45,11,40,9,"getURL"],[45,17,40,0],[45,18,40,16,"modules"],[45,25,40,0],[45,27,40,25,"incomingParams"],[45,41,40,0],[45,43,40,41],[46,0,41,2],[46,8,41,6,"config"],[46,14,41,12],[46,17,41,15,"modules"],[46,24,41,22],[46,25,41,23,"config"],[46,31,41,2],[47,0,42,2],[47,8,42,6,"channel"],[47,15,42,13],[47,18,42,16,"incomingParams"],[47,32,42,30],[47,33,42,31,"channel"],[47,40,42,2],[48,0,42,2],[48,8,43,6,"message"],[48,15,43,13],[48,18,43,16,"incomingParams"],[48,32,43,30],[48,33,43,31,"message"],[48,40,42,2],[49,0,44,2],[49,8,44,6,"stringifiedPayload"],[49,26,44,24],[49,29,44,27,"prepareMessagePayload"],[49,50,44,48],[49,51,44,49,"modules"],[49,58,44,48],[49,60,44,58,"message"],[49,67,44,48],[49,68,44,2],[50,0,45,2],[50,11,45,9],[50,22,45,20,"concat"],[50,28,45,9],[50,29,45,27,"config"],[50,35,45,33],[50,36,45,34,"publishKey"],[50,46,45,9],[50,48,45,46],[50,51,45,9],[50,53,45,51,"concat"],[50,59,45,9],[50,60,45,58,"config"],[50,66,45,64],[50,67,45,65,"subscribeKey"],[50,79,45,9],[50,81,45,79],[50,86,45,9],[50,88,45,86,"concat"],[50,94,45,9],[50,95,45,93,"_utils"],[50,101,45,99],[50,102,45,100],[50,111,45,99],[50,112,45,93],[50,113,45,111,"encodeString"],[50,125,45,93],[50,126,45,124,"channel"],[50,133,45,93],[50,134,45,9],[50,136,45,134],[50,141,45,9],[50,143,45,141,"concat"],[50,149,45,9],[50,150,45,148,"_utils"],[50,156,45,154],[50,157,45,155],[50,166,45,154],[50,167,45,148],[50,168,45,166,"encodeString"],[50,180,45,148],[50,181,45,179,"stringifiedPayload"],[50,199,45,148],[50,200,45,9],[50,201,45,2],[51,0,46,1],[53,0,48,0],[53,11,48,9,"getRequestTimeout"],[53,28,48,0],[53,29,48,27,"_ref2"],[53,34,48,0],[53,36,48,34],[54,0,49,2],[54,8,49,6,"config"],[54,14,49,12],[54,17,49,15,"_ref2"],[54,22,49,20],[54,23,49,21,"config"],[54,29,49,2],[55,0,50,2],[55,11,50,9,"config"],[55,17,50,15],[55,18,50,16,"getTransactionTimeout"],[55,39,50,9],[55,41,50,2],[56,0,51,1],[58,0,53,0],[58,11,53,9,"isAuthSupported"],[58,26,53,0],[58,29,53,27],[59,0,54,2],[59,11,54,9],[59,15,54,2],[60,0,55,1],[62,0,57,0],[62,11,57,9,"prepareParams"],[62,24,57,0],[62,27,57,25],[63,0,58,2],[63,8,58,6,"params"],[63,14,58,12],[63,17,58,15],[63,19,58,2],[64,0,59,2],[64,11,59,9,"params"],[64,17,59,2],[65,0,60,1],[67,0,62,0],[67,11,62,9,"handleResponse"],[67,25,62,0],[67,26,62,24,"modules"],[67,33,62,0],[67,35,62,33,"serverResponse"],[67,49,62,0],[67,51,62,49],[68,0,63,2],[68,11,63,9],[69,0,64,4,"timetoken"],[69,6,64,4,"timetoken"],[69,15,64,13],[69,17,64,15,"serverResponse"],[69,31,64,29],[69,32,64,30],[69,33,64,29],[70,0,63,9],[70,5,63,2],[71,0,66,1]],"functionMap":{"names":["<global>","_interopRequireDefault","prepareMessagePayload","getOperation","validateParams","getURL","getRequestTimeout","isAuthSupported","prepareParams","handleResponse"],"mappings":"AAA;ACmB,iGD;AEE;CFG;AGE;CHE;AIE;CJO;AKE;CLM;AME;CNG;AOE;CPE;AQE;CRG;ASE;CTI"}},"type":"js/module"}]}